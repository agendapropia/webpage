!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,(function(){"use strict";return function(e,t,n,i){var a={features:null,bind:function(e,t,n,i){var a=(i?"remove":"add")+"EventListener";t=t.split(" ");for(var o=0;o<t.length;o++)t[o]&&e[a](t[o],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var n=document.createElement(t||"div");return e&&(n.className=e),n},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){a.bind(e,t,n,!0)},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){a.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(a.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var i=e.length;i--;)if(e[i][n]===t)return i;return-1},extend:function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)){if(n&&e.hasOwnProperty(i))continue;e[i]=t[i]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(a.features)return a.features;var e=a.createEl().style,t="",n={};if(n.oldIE=document.all&&!document.addEventListener,n.touch="ontouchstart"in window,window.requestAnimationFrame&&(n.raf=window.requestAnimationFrame,n.caf=window.cancelAnimationFrame),n.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!n.pointerEvent){var i=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var o=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);o&&o.length>0&&(o=parseInt(o[1],10))>=1&&o<8&&(n.isOldIOSPhone=!0)}var r=i.match(/Android\s([0-9\.]*)/),s=r?r[1]:0;(s=parseFloat(s))>=1&&(s<4.4&&(n.isOldAndroid=!0),n.androidVersion=s),n.isMobileOpera=/opera mini|opera mobi/i.test(i)}for(var l,d,c=["transform","perspective","animationName"],u=["","webkit","Moz","ms","O"],h=0;h<4;h++){t=u[h];for(var f=0;f<3;f++)l=c[f],d=t+(t?l.charAt(0).toUpperCase()+l.slice(1):l),!n[l]&&d in e&&(n[l]=d);t&&!n.raf&&(t=t.toLowerCase(),n.raf=window[t+"RequestAnimationFrame"],n.raf&&(n.caf=window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"]))}if(!n.raf){var m=0;n.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-m)),i=window.setTimeout((function(){e(t+n)}),n);return m=t+n,i},n.caf=function(e){clearTimeout(e)}}return n.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,a.features=n,n}};a.detectFeatures(),a.features.oldIE&&(a.bind=function(e,t,n,i){t=t.split(" ");for(var a,o=(i?"detach":"attach")+"Event",r=function(){n.handleEvent.call(n)},s=0;s<t.length;s++)if(a=t[s])if("object"==typeof n&&n.handleEvent){if(i){if(!n["oldIE"+a])return!1}else n["oldIE"+a]=r;e[o]("on"+a,n["oldIE"+a])}else e[o]("on"+a,n)});var o=this,r={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e||t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};a.extend(r,i);var s,l,d,c,u,h,f,m,p,g,v,y,w,_,b,x,D,M,C,k,S,T,I,E,F,O,A,P,L,Y,N,R,H,$,U,j,W,z,G,V,Z,B,q,K,J,Q,X,ee,te,ne,ie,ae,oe,re,se,le,de={x:0,y:0},ce={x:0,y:0},ue={x:0,y:0},he={},fe=0,me={},pe={x:0,y:0},ge=0,ve=!0,ye=[],we={},_e=!1,be=function(e,t){a.extend(o,t.publicMethods),ye.push(e)},xe=function(e){var t=Ut();return e>t-1?e-t:e<0?t+e:e},De={},Me=function(e,t){return De[e]||(De[e]=[]),De[e].push(t)},Ce=function(e){var t=De[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var i=0;i<t.length;i++)t[i].apply(o,n)}},ke=function(){return(new Date).getTime()},Se=function(e){re=e,o.bg.style.opacity=e*r.bgOpacity},Te=function(e,t,n,i,a){(!_e||a&&a!==o.currItem)&&(i/=a?a.fitRatio:o.currItem.fitRatio),e[T]=y+t+"px, "+n+"px"+w+" scale("+i+")"},Ie=function(e){te&&(e&&(g>o.currItem.fitRatio?_e||(Kt(o.currItem,!1,!0),_e=!0):_e&&(Kt(o.currItem),_e=!1)),Te(te,ue.x,ue.y,g))},Ee=function(e){e.container&&Te(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Fe=function(e,t){t[T]=y+e+"px, 0px"+w},Oe=function(e,t){if(!r.loop&&t){var n=c+(pe.x*fe-e)/pe.x,i=Math.round(e-ct.x);(n<0&&i>0||n>=Ut()-1&&i<0)&&(e=ct.x+i*r.mainScrollEndFriction)}ct.x=e,Fe(e,u)},Ae=function(e,t){var n=ut[e]-me[e];return ce[e]+de[e]+n-n*(t/v)},Pe=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},Le=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},Ye=null,Ne=function(){Ye&&(a.unbind(document,"mousemove",Ne),a.addClass(e,"pswp--has_mouse"),r.mouseUsed=!0,Ce("mouseUsed")),Ye=setTimeout((function(){Ye=null}),100)},Re=function(e,t){var n=Vt(o.currItem,he,e);return t&&(ee=n),n},He=function(e){return e||(e=o.currItem),e.initialZoomLevel},$e=function(e){return e||(e=o.currItem),e.w>0?r.maxSpreadZoom:1},Ue=function(e,t,n,i){return i===o.currItem.initialZoomLevel?(n[e]=o.currItem.initialPosition[e],!0):(n[e]=Ae(e,i),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]&&(n[e]=t.max[e],!0))},je=function(e){var t="";r.escKey&&27===e.keyCode?t="close":r.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,o[t]()))},We=function(e){e&&(B||Z||ne||W)&&(e.preventDefault(),e.stopPropagation())},ze=function(){o.setScrollOffset(0,a.getScrollY())},Ge={},Ve=0,Ze=function(e){Ge[e]&&(Ge[e].raf&&O(Ge[e].raf),Ve--,delete Ge[e])},Be=function(e){Ge[e]&&Ze(e),Ge[e]||(Ve++,Ge[e]={})},qe=function(){for(var e in Ge)Ge.hasOwnProperty(e)&&Ze(e)},Ke=function(e,t,n,i,a,o,r){var s,l=ke();Be(e);var d=function(){if(Ge[e]){if((s=ke()-l)>=i)return Ze(e),o(n),void(r&&r());o((n-t)*a(s/i)+t),Ge[e].raf=F(d)}};d()},Je={shout:Ce,listen:Me,viewportSize:he,options:r,isMainScrollAnimating:function(){return ne},getZoomLevel:function(){return g},getCurrentIndex:function(){return c},isDragging:function(){return G},isZooming:function(){return Q},setScrollOffset:function(e,t){me.x=e,Y=me.y=t,Ce("updateScrollOffset",me)},applyZoomPan:function(e,t,n,i){ue.x=t,ue.y=n,g=e,Ie(i)},init:function(){if(!s&&!l){var n;o.framework=a,o.template=e,o.bg=a.getChildByClass(e,"pswp__bg"),A=e.className,s=!0,N=a.detectFeatures(),F=N.raf,O=N.caf,T=N.transform,L=N.oldIE,o.scrollWrap=a.getChildByClass(e,"pswp__scroll-wrap"),o.container=a.getChildByClass(o.scrollWrap,"pswp__container"),u=o.container.style,o.itemHolders=x=[{el:o.container.children[0],wrap:0,index:-1},{el:o.container.children[1],wrap:0,index:-1},{el:o.container.children[2],wrap:0,index:-1}],x[0].el.style.display=x[2].el.style.display="none",function(){if(T){var t=N.perspective&&!E;return y="translate"+(t?"3d(":"("),void(w=N.perspective?", 0px)":")")}T="left",a.addClass(e,"pswp--ie"),Fe=function(e,t){t.left=e+"px"},Ee=function(e){var t=e.fitRatio>1?1:e.fitRatio,n=e.container.style,i=t*e.w,a=t*e.h;n.width=i+"px",n.height=a+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},Ie=function(){if(te){var e=te,t=o.currItem,n=t.fitRatio>1?1:t.fitRatio,i=n*t.w,a=n*t.h;e.width=i+"px",e.height=a+"px",e.left=ue.x+"px",e.top=ue.y+"px"}}}(),p={resize:o.updateSize,orientationchange:function(){clearTimeout(R),R=setTimeout((function(){he.x!==o.scrollWrap.clientWidth&&o.updateSize()}),500)},scroll:ze,keydown:je,click:We};var i=N.isOldIOSPhone||N.isOldAndroid||N.isMobileOpera;for(N.animationName&&N.transform&&!i||(r.showAnimationDuration=r.hideAnimationDuration=0),n=0;n<ye.length;n++)o["init"+ye[n]]();if(t)(o.ui=new t(o,a)).init();Ce("firstUpdate"),c=c||r.index||0,(isNaN(c)||c<0||c>=Ut())&&(c=0),o.currItem=$t(c),(N.isOldIOSPhone||N.isOldAndroid)&&(ve=!1),e.setAttribute("aria-hidden","false"),r.modal&&(ve?e.style.position="fixed":(e.style.position="absolute",e.style.top=a.getScrollY()+"px")),void 0===Y&&(Ce("initialLayout"),Y=P=a.getScrollY());var d="pswp--open ";for(r.mainClass&&(d+=r.mainClass+" "),r.showHideOpacity&&(d+="pswp--animate_opacity "),d+=E?"pswp--touch":"pswp--notouch",d+=N.animationName?" pswp--css_animation":"",d+=N.svg?" pswp--svg":"",a.addClass(e,d),o.updateSize(),h=-1,ge=null,n=0;n<3;n++)Fe((n+h)*pe.x,x[n].el.style);L||a.bind(o.scrollWrap,m,o),Me("initialZoomInEnd",(function(){o.setContent(x[0],c-1),o.setContent(x[2],c+1),x[0].el.style.display=x[2].el.style.display="block",r.focus&&e.focus(),a.bind(document,"keydown",o),N.transform&&a.bind(o.scrollWrap,"click",o),r.mouseUsed||a.bind(document,"mousemove",Ne),a.bind(window,"resize scroll orientationchange",o),Ce("bindEvents")})),o.setContent(x[1],c),o.updateCurrItem(),Ce("afterInit"),ve||(_=setInterval((function(){Ve||G||Q||g!==o.currItem.initialZoomLevel||o.updateSize()}),1e3)),a.addClass(e,"pswp--visible")}},close:function(){s&&(s=!1,l=!0,Ce("close"),a.unbind(window,"resize scroll orientationchange",o),a.unbind(window,"scroll",p.scroll),a.unbind(document,"keydown",o),a.unbind(document,"mousemove",Ne),N.transform&&a.unbind(o.scrollWrap,"click",o),G&&a.unbind(window,f,o),clearTimeout(R),Ce("unbindEvents"),jt(o.currItem,null,!0,o.destroy))},destroy:function(){Ce("destroy"),Yt&&clearTimeout(Yt),e.setAttribute("aria-hidden","true"),e.className=A,_&&clearInterval(_),a.unbind(o.scrollWrap,m,o),a.unbind(window,"scroll",o),mt(),qe(),De=null},panTo:function(e,t,n){n||(e>ee.min.x?e=ee.min.x:e<ee.max.x&&(e=ee.max.x),t>ee.min.y?t=ee.min.y:t<ee.max.y&&(t=ee.max.y)),ue.x=e,ue.y=t,Ie()},handleEvent:function(e){e=e||window.event,p[e.type]&&p[e.type](e)},goTo:function(e){var t=(e=xe(e))-c;ge=t,c=e,o.currItem=$t(c),fe-=t,Oe(pe.x*fe),qe(),ne=!1,o.updateCurrItem()},next:function(){o.goTo(c+1)},prev:function(){o.goTo(c-1)},updateCurrZoomItem:function(e){if(e&&Ce("beforeChange",0),x[1].el.children.length){var t=x[1].el.children[0];te=a.hasClass(t,"pswp__zoom-wrap")?t.style:null}else te=null;ee=o.currItem.bounds,v=g=o.currItem.initialZoomLevel,ue.x=ee.center.x,ue.y=ee.center.y,e&&Ce("afterChange")},invalidateCurrItems:function(){b=!0;for(var e=0;e<3;e++)x[e].item&&(x[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==ge){var t,n=Math.abs(ge);if(!(e&&n<2)){o.currItem=$t(c),_e=!1,Ce("beforeChange",ge),n>=3&&(h+=ge+(ge>0?-3:3),n=3);for(var i=0;i<n;i++)ge>0?(t=x.shift(),x[2]=t,h++,Fe((h+2)*pe.x,t.el.style),o.setContent(t,c-n+i+1+1)):(t=x.pop(),x.unshift(t),h--,Fe(h*pe.x,t.el.style),o.setContent(t,c+n-i-1-1));if(te&&1===Math.abs(ge)){var a=$t(D);a.initialZoomLevel!==g&&(Vt(a,he),Kt(a),Ee(a))}ge=0,o.updateCurrZoomItem(),D=c,Ce("afterChange")}}},updateSize:function(t){if(!ve&&r.modal){var n=a.getScrollY();if(Y!==n&&(e.style.top=n+"px",Y=n),!t&&we.x===window.innerWidth&&we.y===window.innerHeight)return;we.x=window.innerWidth,we.y=window.innerHeight,e.style.height=we.y+"px"}if(he.x=o.scrollWrap.clientWidth,he.y=o.scrollWrap.clientHeight,ze(),pe.x=he.x+Math.round(he.x*r.spacing),pe.y=he.y,Oe(pe.x*fe),Ce("beforeResize"),void 0!==h){for(var i,s,l,d=0;d<3;d++)i=x[d],Fe((d+h)*pe.x,i.el.style),l=c+d-1,r.loop&&Ut()>2&&(l=xe(l)),(s=$t(l))&&(b||s.needsUpdate||!s.bounds)?(o.cleanSlide(s),o.setContent(i,l),1===d&&(o.currItem=s,o.updateCurrZoomItem(!0)),s.needsUpdate=!1):-1===i.index&&l>=0&&o.setContent(i,l),s&&s.container&&(Vt(s,he),Kt(s),Ee(s));b=!1}v=g=o.currItem.initialZoomLevel,(ee=o.currItem.bounds)&&(ue.x=ee.center.x,ue.y=ee.center.y,Ie(!0)),Ce("resize")},zoomTo:function(e,t,n,i,o){t&&(v=g,ut.x=Math.abs(t.x)-ue.x,ut.y=Math.abs(t.y)-ue.y,Pe(ce,ue));var r=Re(e,!1),s={};Ue("x",r,s,e),Ue("y",r,s,e);var l=g,d=ue.x,c=ue.y;Le(s);var u=function(t){1===t?(g=e,ue.x=s.x,ue.y=s.y):(g=(e-l)*t+l,ue.x=(s.x-d)*t+d,ue.y=(s.y-c)*t+c),o&&o(t),Ie(1===t)};n?Ke("customZoomTo",0,1,n,i||a.easing.sine.inOut,u):u(1)}},Qe={},Xe={},et={},tt={},nt={},it=[],at={},ot=[],rt={},st=0,lt={x:0,y:0},dt=0,ct={x:0,y:0},ut={x:0,y:0},ht={x:0,y:0},ft=function(e,t){return rt.x=Math.abs(e.x-t.x),rt.y=Math.abs(e.y-t.y),Math.sqrt(rt.x*rt.x+rt.y*rt.y)},mt=function(){q&&(O(q),q=null)},pt=function(){G&&(q=F(pt),It())},gt=function(e,t){return!(!e||e===document)&&(!(e.getAttribute("class")&&e.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(t(e)?e:gt(e.parentNode,t)))},vt={},yt=function(e,t){return vt.prevent=!gt(e.target,r.isClickableElement),Ce("preventDragEvent",e,t,vt),vt.prevent},wt=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},_t=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},bt=function(){var e=ue.y-o.currItem.initialPosition.y;return 1-Math.abs(e/(he.y/2))},xt={},Dt={},Mt=[],Ct=function(e){for(;Mt.length>0;)Mt.pop();return I?(le=0,it.forEach((function(e){0===le?Mt[0]=e:1===le&&(Mt[1]=e),le++}))):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(Mt[0]=wt(e.touches[0],xt),e.touches.length>1&&(Mt[1]=wt(e.touches[1],Dt))):(xt.x=e.pageX,xt.y=e.pageY,xt.id="",Mt[0]=xt),Mt},kt=function(e,t){var n,i,a,s,l=ue[e]+t[e],d=t[e]>0,c=ct.x+t.x,u=ct.x-at.x;if(n=l>ee.min[e]||l<ee.max[e]?r.panEndFriction:1,l=ue[e]+t[e]*n,(r.allowPanToNext||g===o.currItem.initialZoomLevel)&&(te?"h"!==ie||"x"!==e||Z||(d?(l>ee.min[e]&&(n=r.panEndFriction,ee.min[e]-l,i=ee.min[e]-ce[e]),(i<=0||u<0)&&Ut()>1?(s=c,u<0&&c>at.x&&(s=at.x)):ee.min.x!==ee.max.x&&(a=l)):(l<ee.max[e]&&(n=r.panEndFriction,l-ee.max[e],i=ce[e]-ee.max[e]),(i<=0||u>0)&&Ut()>1?(s=c,u>0&&c<at.x&&(s=at.x)):ee.min.x!==ee.max.x&&(a=l))):s=c,"x"===e))return void 0!==s&&(Oe(s,!0),K=s!==at.x),ee.min.x!==ee.max.x&&(void 0!==a?ue.x=a:K||(ue.x+=t.x*n)),void 0!==s;ne||K||g>o.currItem.fitRatio&&(ue[e]+=t[e]*n)},St=function(e){if(!("mousedown"===e.type&&e.button>0))if(Ht)e.preventDefault();else if(!z||"mousedown"!==e.type){if(yt(e,!0)&&e.preventDefault(),Ce("pointerDown"),I){var t=a.arraySearch(it,e.pointerId,"id");t<0&&(t=it.length),it[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var n=Ct(e),i=n.length;J=null,qe(),G&&1!==i||(G=ae=!0,a.bind(window,f,o),j=se=oe=W=K=B=V=Z=!1,ie=null,Ce("firstTouchStart",n),Pe(ce,ue),de.x=de.y=0,Pe(tt,n[0]),Pe(nt,tt),at.x=pe.x*fe,ot=[{x:tt.x,y:tt.y}],$=H=ke(),Re(g,!0),mt(),pt()),!Q&&i>1&&!ne&&!K&&(v=g,Z=!1,Q=V=!0,de.y=de.x=0,Pe(ce,ue),Pe(Qe,n[0]),Pe(Xe,n[1]),_t(Qe,Xe,ht),ut.x=Math.abs(ht.x)-ue.x,ut.y=Math.abs(ht.y)-ue.y,X=ft(Qe,Xe))}},Tt=function(e){if(e.preventDefault(),I){var t=a.arraySearch(it,e.pointerId,"id");if(t>-1){var n=it[t];n.x=e.pageX,n.y=e.pageY}}if(G){var i=Ct(e);if(ie||B||Q)J=i;else if(ct.x!==pe.x*fe)ie="h";else{var o=Math.abs(i[0].x-tt.x)-Math.abs(i[0].y-tt.y);Math.abs(o)>=10&&(ie=o>0?"h":"v",J=i)}}},It=function(){if(J){var e=J.length;if(0!==e)if(Pe(Qe,J[0]),et.x=Qe.x-tt.x,et.y=Qe.y-tt.y,Q&&e>1){if(tt.x=Qe.x,tt.y=Qe.y,!et.x&&!et.y&&function(e,t){return e.x===t.x&&e.y===t.y}(J[1],Xe))return;Pe(Xe,J[1]),Z||(Z=!0,Ce("zoomGestureStarted"));var t=ft(Qe,Xe),n=Pt(t);n>o.currItem.initialZoomLevel+o.currItem.initialZoomLevel/15&&(se=!0);var i=1,a=He(),s=$e();if(n<a)if(r.pinchToClose&&!se&&v<=o.currItem.initialZoomLevel){var l=1-(a-n)/(a/1.2);Se(l),Ce("onPinchClose",l),oe=!0}else(i=(a-n)/a)>1&&(i=1),n=a-i*(a/3);else n>s&&((i=(n-s)/(6*a))>1&&(i=1),n=s+i*a);i<0&&(i=0),t,_t(Qe,Xe,lt),de.x+=lt.x-ht.x,de.y+=lt.y-ht.y,Pe(ht,lt),ue.x=Ae("x",n),ue.y=Ae("y",n),j=n>g,g=n,Ie()}else{if(!ie)return;if(ae&&(ae=!1,Math.abs(et.x)>=10&&(et.x-=J[0].x-nt.x),Math.abs(et.y)>=10&&(et.y-=J[0].y-nt.y)),tt.x=Qe.x,tt.y=Qe.y,0===et.x&&0===et.y)return;if("v"===ie&&r.closeOnVerticalDrag&&"fit"===r.scaleMode&&g===o.currItem.initialZoomLevel){de.y+=et.y,ue.y+=et.y;var d=bt();return W=!0,Ce("onVerticalDrag",d),Se(d),void Ie()}!function(e,t,n){if(e-$>50){var i=ot.length>2?ot.shift():{};i.x=t,i.y=n,ot.push(i),$=e}}(ke(),Qe.x,Qe.y),B=!0,ee=o.currItem.bounds,kt("x",et)||(kt("y",et),Le(ue),Ie())}}},Et=function(e){if(N.isOldAndroid){if(z&&"mouseup"===e.type)return;e.type.indexOf("touch")>-1&&(clearTimeout(z),z=setTimeout((function(){z=0}),600))}var t;if(Ce("pointerUp"),yt(e,!1)&&e.preventDefault(),I){var n=a.arraySearch(it,e.pointerId,"id");if(n>-1)if(t=it.splice(n,1)[0],navigator.pointerEnabled)t.type=e.pointerType||"mouse";else{t.type={4:"mouse",2:"touch",3:"pen"}[e.pointerType],t.type||(t.type=e.pointerType||"mouse")}}var i,s=Ct(e),l=s.length;if("mouseup"===e.type&&(l=0),2===l)return J=null,!0;1===l&&Pe(nt,s[0]),0!==l||ie||ne||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),Ce("touchRelease",e,t));var d=-1;if(0===l&&(G=!1,a.unbind(window,f,o),mt(),Q?d=0:-1!==dt&&(d=ke()-dt)),dt=1===l?ke():-1,i=-1!==d&&d<150?"zoom":"swipe",Q&&l<2&&(Q=!1,1===l&&(i="zoomPointerUp"),Ce("zoomGestureEnded")),J=null,B||Z||ne||W)if(qe(),U||(U=Ft()),U.calculateSwipeSpeed("x"),W){if(bt()<r.verticalDragRange)o.close();else{var c=ue.y,u=re;Ke("verticalDrag",0,1,300,a.easing.cubic.out,(function(e){ue.y=(o.currItem.initialPosition.y-c)*e+c,Se((1-u)*e+u),Ie()})),Ce("onVerticalDrag",1)}}else{if((K||ne)&&0===l){if(At(i,U))return;i="zoomPointerUp"}ne||("swipe"===i?!K&&g>o.currItem.fitRatio&&Ot(U):Lt())}},Ft=function(){var e,t,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(i){ot.length>1?(e=ke()-$+50,t=ot[ot.length-2][i]):(e=ke()-H,t=nt[i]),n.lastFlickOffset[i]=tt[i]-t,n.lastFlickDist[i]=Math.abs(n.lastFlickOffset[i]),n.lastFlickDist[i]>20?n.lastFlickSpeed[i]=n.lastFlickOffset[i]/e:n.lastFlickSpeed[i]=0,Math.abs(n.lastFlickSpeed[i])<.1&&(n.lastFlickSpeed[i]=0),n.slowDownRatio[i]=.95,n.slowDownRatioReverse[i]=1-n.slowDownRatio[i],n.speedDecelerationRatio[i]=1},calculateOverBoundsAnimOffset:function(e,t){n.backAnimStarted[e]||(ue[e]>ee.min[e]?n.backAnimDestination[e]=ee.min[e]:ue[e]<ee.max[e]&&(n.backAnimDestination[e]=ee.max[e]),void 0!==n.backAnimDestination[e]&&(n.slowDownRatio[e]=.7,n.slowDownRatioReverse[e]=1-n.slowDownRatio[e],n.speedDecelerationRatioAbs[e]<.05&&(n.lastFlickSpeed[e]=0,n.backAnimStarted[e]=!0,Ke("bounceZoomPan"+e,ue[e],n.backAnimDestination[e],t||300,a.easing.sine.out,(function(t){ue[e]=t,Ie()})))))},calculateAnimOffset:function(e){n.backAnimStarted[e]||(n.speedDecelerationRatio[e]=n.speedDecelerationRatio[e]*(n.slowDownRatio[e]+n.slowDownRatioReverse[e]-n.slowDownRatioReverse[e]*n.timeDiff/10),n.speedDecelerationRatioAbs[e]=Math.abs(n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]),n.distanceOffset[e]=n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]*n.timeDiff,ue[e]+=n.distanceOffset[e])},panAnimLoop:function(){if(Ge.zoomPan&&(Ge.zoomPan.raf=F(n.panAnimLoop),n.now=ke(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),Ie(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05))return ue.x=Math.round(ue.x),ue.y=Math.round(ue.y),Ie(),void Ze("zoomPan")}};return n},Ot=function(e){if(e.calculateSwipeSpeed("y"),ee=o.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05)return e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0;Be("zoomPan"),e.lastNow=ke(),e.panAnimLoop()},At=function(e,t){var n,i,s;if(ne||(st=c),"swipe"===e){var l=tt.x-nt.x,d=t.lastFlickDist.x<10;l>30&&(d||t.lastFlickOffset.x>20)?i=-1:l<-30&&(d||t.lastFlickOffset.x<-20)&&(i=1)}i&&((c+=i)<0?(c=r.loop?Ut()-1:0,s=!0):c>=Ut()&&(c=r.loop?0:Ut()-1,s=!0),s&&!r.loop||(ge+=i,fe-=i,n=!0));var u,h=pe.x*fe,f=Math.abs(h-ct.x);return n||h>ct.x==t.lastFlickSpeed.x>0?(u=Math.abs(t.lastFlickSpeed.x)>0?f/Math.abs(t.lastFlickSpeed.x):333,u=Math.min(u,400),u=Math.max(u,250)):u=333,st===c&&(n=!1),ne=!0,Ce("mainScrollAnimStart"),Ke("mainScroll",ct.x,h,u,a.easing.cubic.out,Oe,(function(){qe(),ne=!1,st=-1,(n||st!==c)&&o.updateCurrItem(),Ce("mainScrollAnimComplete")})),n&&o.updateCurrItem(!0),n},Pt=function(e){return 1/X*e*v},Lt=function(){var e=g,t=He(),n=$e();g<t?e=t:g>n&&(e=n);var i,r=re;return oe&&!j&&!se&&g<t?(o.close(),!0):(oe&&(i=function(e){Se((1-r)*e+r)}),o.zoomTo(e,0,200,a.easing.cubic.out,i),!0)};be("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,n,i,a){M=e+t,C=e+n,k=e+i,S=a?e+a:""};(I=N.pointerEvent)&&N.touch&&(N.touch=!1),I?navigator.pointerEnabled?e("pointer","down","move","up","cancel"):e("MSPointer","Down","Move","Up","Cancel"):N.touch?(e("touch","start","move","end","cancel"),E=!0):e("mouse","down","move","up"),f=C+" "+k+" "+S,m=M,I&&!E&&(E=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),o.likelyTouchDevice=E,p[M]=St,p[C]=Tt,p[k]=Et,S&&(p[S]=p[k]),N.touch&&(m+=" mousedown",f+=" mousemove mouseup",p.mousedown=p[M],p.mousemove=p[C],p.mouseup=p[k]),E||(r.allowPanToNext=!1)}}});var Yt,Nt,Rt,Ht,$t,Ut,jt=function(t,n,i,s){var l;Yt&&clearTimeout(Yt),Ht=!0,Rt=!0,t.initialLayout?(l=t.initialLayout,t.initialLayout=null):l=r.getThumbBoundsFn&&r.getThumbBoundsFn(c);var u=i?r.hideAnimationDuration:r.showAnimationDuration,h=function(){Ze("initialZoom"),i?(o.template.removeAttribute("style"),o.bg.removeAttribute("style")):(Se(1),n&&(n.style.display="block"),a.addClass(e,"pswp--animated-in"),Ce("initialZoom"+(i?"OutEnd":"InEnd"))),s&&s(),Ht=!1};if(!u||!l||void 0===l.x)return Ce("initialZoom"+(i?"Out":"In")),g=t.initialZoomLevel,Pe(ue,t.initialPosition),Ie(),e.style.opacity=i?0:1,Se(1),void(u?setTimeout((function(){h()}),u):h());var f,m;f=d,m=!o.currItem.src||o.currItem.loadError||r.showHideOpacity,t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),i||(g=l.w/t.w,ue.x=l.x,ue.y=l.y-P,o[m?"template":"bg"].style.opacity=.001,Ie()),Be("initialZoom"),i&&!f&&a.removeClass(e,"pswp--animated-in"),m&&(i?a[(f?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout((function(){a.addClass(e,"pswp--animate_opacity")}),30)),Yt=setTimeout((function(){if(Ce("initialZoom"+(i?"Out":"In")),i){var n=l.w/t.w,o={x:ue.x,y:ue.y},r=g,s=re,d=function(t){1===t?(g=n,ue.x=l.x,ue.y=l.y-Y):(g=(n-r)*t+r,ue.x=(l.x-o.x)*t+o.x,ue.y=(l.y-Y-o.y)*t+o.y),Ie(),m?e.style.opacity=1-t:Se(s-t*s)};f?Ke("initialZoom",0,1,u,a.easing.cubic.out,d,h):(d(1),Yt=setTimeout(h,u+20))}else g=t.initialZoomLevel,Pe(ue,t.initialPosition),Ie(),Se(1),m?e.style.opacity=1:Se(1),Yt=setTimeout(h,u+20)}),i?25:90)},Wt={},zt=[],Gt={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Nt.length}},Vt=function(e,t,n){if(e.src&&!e.loadError){var i=!n;if(i&&(e.vGap||(e.vGap={top:0,bottom:0}),Ce("parseVerticalMargin",e)),Wt.x=t.x,Wt.y=t.y-e.vGap.top-e.vGap.bottom,i){var a=Wt.x/e.w,o=Wt.y/e.h;e.fitRatio=a<o?a:o;var s=r.scaleMode;"orig"===s?n=1:"fit"===s&&(n=e.fitRatio),n>1&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}})}if(!n)return;return function(e,t,n){var i=e.bounds;i.center.x=Math.round((Wt.x-t)/2),i.center.y=Math.round((Wt.y-n)/2)+e.vGap.top,i.max.x=t>Wt.x?Math.round(Wt.x-t):i.center.x,i.max.y=n>Wt.y?Math.round(Wt.y-n)+e.vGap.top:i.center.y,i.min.x=t>Wt.x?0:i.center.x,i.min.y=n>Wt.y?e.vGap.top:i.center.y}(e,e.w*n,e.h*n),i&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}},e.initialPosition=e.bounds.center,e.bounds},Zt=function(e,t,n,i,a,r){t.loadError||i&&(t.imageAppended=!0,Kt(t,i,t===o.currItem&&_e),n.appendChild(i),r&&setTimeout((function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)}),500))},Bt=function(e){e.loading=!0,e.loaded=!1;var t=e.img=a.createEl("pswp__img","img"),n=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=n,t.onerror=function(){e.loadError=!0,n()},t.src=e.src,t},qt=function(e,t){if(e.src&&e.loadError&&e.container)return t&&(e.container.innerHTML=""),e.container.innerHTML=r.errorMsg.replace("%url%",e.src),!0},Kt=function(e,t,n){if(e.src){t||(t=e.container.lastChild);var i=n?e.w:Math.round(e.w*e.fitRatio),a=n?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=i+"px",e.placeholder.style.height=a+"px"),t.style.width=i+"px",t.style.height=a+"px"}},Jt=function(){if(zt.length){for(var e,t=0;t<zt.length;t++)(e=zt[t]).holder.index===e.index&&Zt(e.index,e.item,e.baseDiv,e.img,0,e.clearPlaceholder);zt=[]}};be("Controller",{publicMethods:{lazyLoadItem:function(e){e=xe(e);var t=$t(e);t&&(!t.loaded&&!t.loading||b)&&(Ce("gettingData",e,t),t.src&&Bt(t))},initController:function(){a.extend(r,Gt,!0),o.items=Nt=n,$t=o.getItemAt,Ut=r.getNumItemsFn,r.loop,Ut()<3&&(r.loop=!1),Me("beforeChange",(function(e){var t,n=r.preload,i=null===e||e>=0,a=Math.min(n[0],Ut()),s=Math.min(n[1],Ut());for(t=1;t<=(i?s:a);t++)o.lazyLoadItem(c+t);for(t=1;t<=(i?a:s);t++)o.lazyLoadItem(c-t)})),Me("initialLayout",(function(){o.currItem.initialLayout=r.getThumbBoundsFn&&r.getThumbBoundsFn(c)})),Me("mainScrollAnimComplete",Jt),Me("initialZoomInEnd",Jt),Me("destroy",(function(){for(var e,t=0;t<Nt.length;t++)(e=Nt[t]).container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);zt=null}))},getItemAt:function(e){return e>=0&&(void 0!==Nt[e]&&Nt[e])},allowProgressiveImg:function(){return r.forceProgressiveLoading||!E||r.mouseUsed||screen.width>1200},setContent:function(e,t){r.loop&&(t=xe(t));var n=o.getItemAt(e.index);n&&(n.container=null);var i,l=o.getItemAt(t);if(l){Ce("gettingData",t,l),e.index=t,e.item=l;var d=l.container=a.createEl("pswp__zoom-wrap");if(!l.src&&l.html&&(l.html.tagName?d.appendChild(l.html):d.innerHTML=l.html),qt(l),Vt(l,he),!l.src||l.loadError||l.loaded)l.src&&!l.loadError&&((i=a.createEl("pswp__img","img")).style.opacity=1,i.src=l.src,Kt(l,i),Zt(0,l,d,i));else{if(l.loadComplete=function(n){if(s){if(e&&e.index===t){if(qt(n,!0))return n.loadComplete=n.img=null,Vt(n,he),Ee(n),void(e.index===c&&o.updateCurrZoomItem());n.imageAppended?!Ht&&n.placeholder&&(n.placeholder.style.display="none",n.placeholder=null):N.transform&&(ne||Ht)?zt.push({item:n,baseDiv:d,img:n.img,index:t,holder:e,clearPlaceholder:!0}):Zt(0,n,d,n.img,0,!0)}n.loadComplete=null,n.img=null,Ce("imageLoadComplete",t,n)}},a.features.transform){var u="pswp__img pswp__img--placeholder";u+=l.msrc?"":" pswp__img--placeholder--blank";var h=a.createEl(u,l.msrc?"img":"");l.msrc&&(h.src=l.msrc),Kt(l,h),d.appendChild(h),l.placeholder=h}l.loading||Bt(l),o.allowProgressiveImg()&&(!Rt&&N.transform?zt.push({item:l,baseDiv:d,img:l.img,index:t,holder:e}):Zt(0,l,d,l.img,0,!0))}Rt||t!==c?Ee(l):(te=d.style,jt(l,i||l.img)),e.el.innerHTML="",e.el.appendChild(d)}else e.el.innerHTML=""},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var Qt,Xt,en={},tn=function(e,t,n){var i=document.createEvent("CustomEvent"),a={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};i.initCustomEvent("pswpTap",!0,!0,a),e.target.dispatchEvent(i)};be("Tap",{publicMethods:{initTap:function(){Me("firstTouchStart",o.onTapStart),Me("touchRelease",o.onTapRelease),Me("destroy",(function(){en={},Qt=null}))},onTapStart:function(e){e.length>1&&(clearTimeout(Qt),Qt=null)},onTapRelease:function(e,t){var n,i;if(t&&(!B&&!V&&!Ve)){var o=t;if(Qt&&(clearTimeout(Qt),Qt=null,n=o,i=en,Math.abs(n.x-i.x)<25&&Math.abs(n.y-i.y)<25))return void Ce("doubleTap",o);if("mouse"===t.type)return void tn(e,t,"mouse");if("BUTTON"===e.target.tagName.toUpperCase()||a.hasClass(e.target,"pswp__single-tap"))return void tn(e,t);Pe(en,o),Qt=setTimeout((function(){tn(e,t),Qt=null}),300)}}}}),be("DesktopZoom",{publicMethods:{initDesktopZoom:function(){L||(E?Me("mouseUsed",(function(){o.setupDesktopZoom()})):o.setupDesktopZoom(!0))},setupDesktopZoom:function(t){Xt={};var n="wheel mousewheel DOMMouseScroll";Me("bindEvents",(function(){a.bind(e,n,o.handleMouseWheel)})),Me("unbindEvents",(function(){Xt&&a.unbind(e,n,o.handleMouseWheel)})),o.mouseZoomedIn=!1;var i,r=function(){o.mouseZoomedIn&&(a.removeClass(e,"pswp--zoomed-in"),o.mouseZoomedIn=!1),g<1?a.addClass(e,"pswp--zoom-allowed"):a.removeClass(e,"pswp--zoom-allowed"),s()},s=function(){i&&(a.removeClass(e,"pswp--dragging"),i=!1)};Me("resize",r),Me("afterChange",r),Me("pointerDown",(function(){o.mouseZoomedIn&&(i=!0,a.addClass(e,"pswp--dragging"))})),Me("pointerUp",s),t||r()},handleMouseWheel:function(e){if(g<=o.currItem.fitRatio)return r.modal&&(!r.closeOnScroll||Ve||G?e.preventDefault():T&&Math.abs(e.deltaY)>2&&(d=!0,o.close())),!0;if(e.stopPropagation(),Xt.x=0,"deltaX"in e)1===e.deltaMode?(Xt.x=18*e.deltaX,Xt.y=18*e.deltaY):(Xt.x=e.deltaX,Xt.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(Xt.x=-.16*e.wheelDeltaX),e.wheelDeltaY?Xt.y=-.16*e.wheelDeltaY:Xt.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;Xt.y=e.detail}Re(g,!0);var t=ue.x-Xt.x,n=ue.y-Xt.y;(r.modal||t<=ee.min.x&&t>=ee.max.x&&n<=ee.min.y&&n>=ee.max.y)&&e.preventDefault(),o.panTo(t,n)},toggleDesktopZoom:function(t){t=t||{x:he.x/2+me.x,y:he.y/2+me.y};var n=r.getDoubleTapZoom(!0,o.currItem),i=g===n;o.mouseZoomedIn=!i,o.zoomTo(i?o.currItem.initialZoomLevel:n,t,333),a[(i?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var nn,an,on,rn,sn,ln,dn,cn,un,hn,fn,mn,pn={history:!0,galleryUID:1},gn=function(){return fn.hash.substring(1)},vn=function(){nn&&clearTimeout(nn),on&&clearTimeout(on)},yn=function(){var e=gn(),t={};if(e.length<5)return t;var n,i=e.split("&");for(n=0;n<i.length;n++)if(i[n]){var a=i[n].split("=");a.length<2||(t[a[0]]=a[1])}if(r.galleryPIDs){var o=t.pid;for(t.pid=0,n=0;n<Nt.length;n++)if(Nt[n].pid===o){t.pid=n;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},wn=function(){if(on&&clearTimeout(on),Ve||G)on=setTimeout(wn,500);else{rn?clearTimeout(an):rn=!0;var e=c+1,t=$t(c);t.hasOwnProperty("pid")&&(e=t.pid);var n=dn+"&gid="+r.galleryUID+"&pid="+e;cn||-1===fn.hash.indexOf(n)&&(hn=!0);var i=fn.href.split("#")[0]+"#"+n;mn?"#"+n!==window.location.hash&&history[cn?"replaceState":"pushState"]("",document.title,i):cn?fn.replace(i):fn.hash=n,cn=!0,an=setTimeout((function(){rn=!1}),60)}};be("History",{publicMethods:{initHistory:function(){if(a.extend(r,pn,!0),r.history){fn=window.location,hn=!1,un=!1,cn=!1,dn=gn(),mn="pushState"in history,dn.indexOf("gid=")>-1&&(dn=(dn=dn.split("&gid=")[0]).split("?gid=")[0]),Me("afterChange",o.updateURL),Me("unbindEvents",(function(){a.unbind(window,"hashchange",o.onHashChange)}));var e=function(){ln=!0,un||(hn?history.back():dn?fn.hash=dn:mn?history.pushState("",document.title,fn.pathname+fn.search):fn.hash=""),vn()};Me("unbindEvents",(function(){d&&e()})),Me("destroy",(function(){ln||e()})),Me("firstUpdate",(function(){c=yn().pid}));var t=dn.indexOf("pid=");t>-1&&"&"===(dn=dn.substring(0,t)).slice(-1)&&(dn=dn.slice(0,-1)),setTimeout((function(){s&&a.bind(window,"hashchange",o.onHashChange)}),40)}},onHashChange:function(){if(gn()===dn)return un=!0,void o.close();rn||(sn=!0,o.goTo(yn().pid),sn=!1)},updateURL:function(){vn(),sn||(cn?nn=setTimeout(wn,800):wn())}}}),a.extend(o,Je)}})),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,(function(){"use strict";return function(e,t){var n,i,a,o,r,s,l,d,c,u,h,f,m,p,g,v,y,w,_=this,b=!1,x=!0,D=!0,M={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},C=function(e){if(v)return!0;e=e||window.event,g.timeToIdle&&g.mouseUsed&&!c&&P();for(var n,i,a=(e.target||e.srcElement).getAttribute("class")||"",o=0;o<R.length;o++)(n=R[o]).onTap&&a.indexOf("pswp__"+n.name)>-1&&(n.onTap(),i=!0);if(i){e.stopPropagation&&e.stopPropagation(),v=!0;var r=t.features.isOldAndroid?600:30;setTimeout((function(){v=!1}),r)}},k=function(e,n,i){t[(i?"add":"remove")+"Class"](e,"pswp__"+n)},S=function(){var e=1===g.getNumItemsFn();e!==p&&(k(i,"ui--one-slide",e),p=e)},T=function(){k(l,"share-modal--hidden",D)},I=function(){return(D=!D)?(t.removeClass(l,"pswp__share-modal--fade-in"),setTimeout((function(){D&&T()}),300)):(T(),setTimeout((function(){D||t.addClass(l,"pswp__share-modal--fade-in")}),30)),D||F(),!1},E=function(t){var n=(t=t||window.event).target||t.srcElement;return e.shout("shareLinkClick",t,n),!!n.href&&(!!n.hasAttribute("download")||(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),D||I(),!1))},F=function(){for(var e,t,n,i,a="",o=0;o<g.shareButtons.length;o++)e=g.shareButtons[o],t=g.getImageURLForShare(e),n=g.getPageURLForShare(e),i=g.getTextForShare(e),a+='<a href="'+e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(t)).replace("{{raw_image_url}}",t).replace("{{text}}",encodeURIComponent(i))+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",g.parseShareButtonOut&&(a=g.parseShareButtonOut(e,a));l.children[0].innerHTML=a,l.children[0].onclick=E},O=function(e){for(var n=0;n<g.closeElClasses.length;n++)if(t.hasClass(e,"pswp__"+g.closeElClasses[n]))return!0},A=0,P=function(){clearTimeout(w),A=0,c&&_.setIdle(!1)},L=function(e){var t=(e=e||window.event).relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(w),w=setTimeout((function(){_.setIdle(!0)}),g.timeToIdleOutside))},Y=function(e){f!==e&&(k(h,"preloader--active",!e),f=e)},N=function(n){var r=n.vGap;if(!e.likelyTouchDevice||g.mouseUsed||screen.width>g.fitControlsWidth){var s=g.barsSize;if(g.captionEl&&"auto"===s.bottom)if(o||((o=t.createEl("pswp__caption pswp__caption--fake")).appendChild(t.createEl("pswp__caption__center")),i.insertBefore(o,a),t.addClass(i,"pswp__ui--fit")),g.addCaptionHTMLFn(n,o,!0)){var l=o.clientHeight;r.bottom=parseInt(l,10)||44}else r.bottom=s.top;else r.bottom="auto"===s.bottom?0:s.bottom;r.top=s.top}else r.top=r.bottom=0},R=[{name:"caption",option:"captionEl",onInit:function(e){a=e}},{name:"share-modal",option:"shareEl",onInit:function(e){l=e},onTap:function(){I()}},{name:"button--share",option:"shareEl",onInit:function(e){s=e},onTap:function(){I()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){r=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){h=e}}];_.init=function(){var r;t.extend(e.options,M,!0),g=e.options,i=t.getChildByClass(e.scrollWrap,"pswp__ui"),(u=e.listen)("onVerticalDrag",(function(e){x&&e<.95?_.hideControls():!x&&e>=.95&&_.showControls()})),u("onPinchClose",(function(e){x&&e<.9?(_.hideControls(),r=!0):r&&!x&&e>.9&&_.showControls()})),u("zoomGestureEnded",(function(){(r=!1)&&!x&&_.showControls()})),u("beforeChange",_.update),u("doubleTap",(function(t){var n=e.currItem.initialZoomLevel;e.getZoomLevel()!==n?e.zoomTo(n,t,333):e.zoomTo(g.getDoubleTapZoom(!1,e.currItem),t,333)})),u("preventDragEvent",(function(e,t,n){var i=e.target||e.srcElement;i&&i.getAttribute("class")&&e.type.indexOf("mouse")>-1&&(i.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(i.tagName))&&(n.prevent=!1)})),u("bindEvents",(function(){t.bind(i,"pswpTap click",C),t.bind(e.scrollWrap,"pswpTap",_.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",_.onMouseOver)})),u("unbindEvents",(function(){D||I(),y&&clearInterval(y),t.unbind(document,"mouseout",L),t.unbind(document,"mousemove",P),t.unbind(i,"pswpTap click",C),t.unbind(e.scrollWrap,"pswpTap",_.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",_.onMouseOver),n&&(t.unbind(document,n.eventK,_.updateFullscreen),n.isFullscreen()&&(g.hideAnimationDuration=0,n.exit()),n=null)})),u("destroy",(function(){g.captionEl&&(o&&i.removeChild(o),t.removeClass(a,"pswp__caption--empty")),l&&(l.children[0].onclick=null),t.removeClass(i,"pswp__ui--over-close"),t.addClass(i,"pswp__ui--hidden"),_.setIdle(!1)})),g.showAnimationDuration||t.removeClass(i,"pswp__ui--hidden"),u("initialZoomIn",(function(){g.showAnimationDuration&&t.removeClass(i,"pswp__ui--hidden")})),u("initialZoomOut",(function(){t.addClass(i,"pswp__ui--hidden")})),u("parseVerticalMargin",N),function(){var e,n,a,o=function(i){if(i)for(var o=i.length,r=0;r<o;r++){e=i[r],n=e.className;for(var s=0;s<R.length;s++)a=R[s],n.indexOf("pswp__"+a.name)>-1&&(g[a.option]?(t.removeClass(e,"pswp__element--disabled"),a.onInit&&a.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};o(i.children);var r=t.getChildByClass(i,"pswp__top-bar");r&&o(r.children)}(),g.shareEl&&s&&l&&(D=!0),S(),g.timeToIdle&&u("mouseUsed",(function(){t.bind(document,"mousemove",P),t.bind(document,"mouseout",L),y=setInterval((function(){2==++A&&_.setIdle(!0)}),g.timeToIdle/2)})),g.fullscreenEl&&!t.features.isOldAndroid&&(n||(n=_.getFullscreenAPI()),n?(t.bind(document,n.eventK,_.updateFullscreen),_.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs")),g.preloaderEl&&(Y(!0),u("beforeChange",(function(){clearTimeout(m),m=setTimeout((function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&Y(!1):Y(!0)}),g.loadingIndicatorDelay)})),u("imageLoadComplete",(function(t,n){e.currItem===n&&Y(!0)})))},_.setIdle=function(e){c=e,k(i,"ui--idle",e)},_.update=function(){x&&e.currItem?(_.updateIndexIndicator(),g.captionEl&&(g.addCaptionHTMLFn(e.currItem,a),k(a,"caption--empty",!e.currItem.title)),b=!0):b=!1,D||I(),S()},_.updateFullscreen=function(i){i&&setTimeout((function(){e.setScrollOffset(0,t.getScrollY())}),50),t[(n.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},_.updateIndexIndicator=function(){g.counterEl&&(r.innerHTML=e.getCurrentIndex()+1+g.indexIndicatorSep+g.getNumItemsFn())},_.onGlobalTap=function(n){var i=(n=n||window.event).target||n.srcElement;if(!v)if(n.detail&&"mouse"===n.detail.pointerType){if(O(i))return void e.close();t.hasClass(i,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?g.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(n.detail.releasePoint))}else if(g.tapToToggleControls&&(x?_.hideControls():_.showControls()),g.tapToClose&&(t.hasClass(i,"pswp__img")||O(i)))return void e.close()},_.onMouseOver=function(e){var t=(e=e||window.event).target||e.srcElement;k(i,"ui--over-close",O(t))},_.hideControls=function(){t.addClass(i,"pswp__ui--hidden"),x=!1},_.showControls=function(){x=!0,b||_.update(),t.removeClass(i,"pswp__ui--hidden")},_.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},_.getFullscreenAPI=function(){var t,n=document.documentElement,i="fullscreenchange";return n.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:i}:n.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+i}:n.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+i}:n.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){if(d=g.closeOnScroll,g.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK)return e.template[this.enterK]();e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return g.closeOnScroll=d,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}}})),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}((function(e){function t(t,i,a){var o={content:{message:"object"==typeof i?i.message:i,title:i.title?i.title:"",icon:i.icon?i.icon:"",url:i.url?i.url:"#",target:i.target?i.target:"-"}};a=e.extend(!0,{},o,a),this.settings=e.extend(!0,{},n,a),this._defaults=n,"-"===this.settings.content.target&&(this.settings.content.target=this.settings.url_target),this.animations={start:"webkitAnimationStart oanimationstart MSAnimationStart animationstart",end:"webkitAnimationEnd oanimationend MSAnimationEnd animationend"},"number"==typeof this.settings.offset&&(this.settings.offset={x:this.settings.offset,y:this.settings.offset}),(this.settings.allow_duplicates||!this.settings.allow_duplicates&&!function(t){var n=!1;return e('[data-notify="container"]').each((function(i,a){var o=e(a),r=o.find('[data-notify="title"]').text().trim(),s=o.find('[data-notify="message"]').html().trim(),l=r===e("<div>"+t.settings.content.title+"</div>").html().trim(),d=s===e("<div>"+t.settings.content.message+"</div>").html().trim(),c=o.hasClass("alert-"+t.settings.type);return l&&d&&c&&(n=!0),!n})),n}(this))&&this.init()}var n={element:"body",position:null,type:"info",allow_dismiss:!0,allow_duplicates:!0,newest_on_top:!1,showProgressbar:!1,placement:{from:"top",align:"right"},offset:20,spacing:10,z_index:1031,delay:5e3,timer:1e3,url_target:"_blank",mouse_over:null,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"},onShow:null,onShown:null,onClose:null,onClosed:null,icon_type:"class",template:'<div data-notify="container" class="col-xs-11 col-sm-4 alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">&times;</button><span data-notify="icon"></span> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'};String.format=function(){for(var e=arguments[0],t=1;t<arguments.length;t++)e=e.replace(RegExp("\\{"+(t-1)+"\\}","gm"),arguments[t]);return e},e.extend(t.prototype,{init:function(){var e=this;this.buildNotify(),this.settings.content.icon&&this.setIcon(),"#"!=this.settings.content.url&&this.styleURL(),this.styleDismiss(),this.placement(),this.bind(),this.notify={$ele:this.$ele,update:function(t,n){var i={};for(var a in"string"==typeof t?i[t]=n:i=t,i)switch(a){case"type":this.$ele.removeClass("alert-"+e.settings.type),this.$ele.find('[data-notify="progressbar"] > .progress-bar').removeClass("progress-bar-"+e.settings.type),e.settings.type=i[a],this.$ele.addClass("alert-"+i[a]).find('[data-notify="progressbar"] > .progress-bar').addClass("progress-bar-"+i[a]);break;case"icon":var o=this.$ele.find('[data-notify="icon"]');"class"===e.settings.icon_type.toLowerCase()?o.removeClass(e.settings.content.icon).addClass(i[a]):(o.is("img")||o.find("img"),o.attr("src",i[a]));break;case"progress":var r=e.settings.delay-e.settings.delay*(i[a]/100);this.$ele.data("notify-delay",r),this.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",i[a]).css("width",i[a]+"%");break;case"url":this.$ele.find('[data-notify="url"]').attr("href",i[a]);break;case"target":this.$ele.find('[data-notify="url"]').attr("target",i[a]);break;default:this.$ele.find('[data-notify="'+a+'"]').html(i[a])}var s=this.$ele.outerHeight()+parseInt(e.settings.spacing)+parseInt(e.settings.offset.y);e.reposition(s)},close:function(){e.close()}}},buildNotify:function(){var t=this.settings.content;this.$ele=e(String.format(this.settings.template,this.settings.type,t.title,t.message,t.url,t.target)),this.$ele.attr("data-notify-position",this.settings.placement.from+"-"+this.settings.placement.align),this.settings.allow_dismiss||this.$ele.find('[data-notify="dismiss"]').css("display","none"),(this.settings.delay<=0&&!this.settings.showProgressbar||!this.settings.showProgressbar)&&this.$ele.find('[data-notify="progressbar"]').remove()},setIcon:function(){"class"===this.settings.icon_type.toLowerCase()?this.$ele.find('[data-notify="icon"]').addClass(this.settings.content.icon):this.$ele.find('[data-notify="icon"]').is("img")?this.$ele.find('[data-notify="icon"]').attr("src",this.settings.content.icon):this.$ele.find('[data-notify="icon"]').append('<img src="'+this.settings.content.icon+'" alt="Notify Icon" />')},styleDismiss:function(){this.$ele.find('[data-notify="dismiss"]').css({position:"absolute",right:"10px",top:"5px",zIndex:this.settings.z_index+2})},styleURL:function(){this.$ele.find('[data-notify="url"]').css({backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)",height:"100%",left:0,position:"absolute",top:0,width:"100%",zIndex:this.settings.z_index+1})},placement:function(){var t=this,n=this.settings.offset.y,i={display:"inline-block",margin:"0px auto",position:this.settings.position?this.settings.position:"body"===this.settings.element?"fixed":"absolute",transition:"all .5s ease-in-out",zIndex:this.settings.z_index},a=!1,o=this.settings;switch(e('[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])').each((function(){n=Math.max(n,parseInt(e(this).css(o.placement.from))+parseInt(e(this).outerHeight())+parseInt(o.spacing))})),!0===this.settings.newest_on_top&&(n=this.settings.offset.y),i[this.settings.placement.from]=n+"px",this.settings.placement.align){case"left":case"right":i[this.settings.placement.align]=this.settings.offset.x+"px";break;case"center":i.left=0,i.right=0}this.$ele.css(i).addClass(this.settings.animate.enter),e.each(Array("webkit-","moz-","o-","ms-",""),(function(e,n){t.$ele[0].style[n+"AnimationIterationCount"]=1})),e(this.settings.element).append(this.$ele),!0===this.settings.newest_on_top&&(n=parseInt(n)+parseInt(this.settings.spacing)+this.$ele.outerHeight(),this.reposition(n)),e.isFunction(t.settings.onShow)&&t.settings.onShow.call(this.$ele),this.$ele.one(this.animations.start,(function(){a=!0})).one(this.animations.end,(function(){t.$ele.removeClass(t.settings.animate.enter),e.isFunction(t.settings.onShown)&&t.settings.onShown.call(this)})),setTimeout((function(){a||e.isFunction(t.settings.onShown)&&t.settings.onShown.call(this)}),600)},bind:function(){var t=this;if(this.$ele.find('[data-notify="dismiss"]').on("click",(function(){t.close()})),this.$ele.mouseover((function(){e(this).data("data-hover","true")})).mouseout((function(){e(this).data("data-hover","false")})),this.$ele.data("data-hover","false"),this.settings.delay>0){t.$ele.data("notify-delay",t.settings.delay);var n=setInterval((function(){var e=parseInt(t.$ele.data("notify-delay"))-t.settings.timer;if("false"===t.$ele.data("data-hover")&&"pause"===t.settings.mouse_over||"pause"!=t.settings.mouse_over){var i=(t.settings.delay-e)/t.settings.delay*100;t.$ele.data("notify-delay",e),t.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",i).css("width",i+"%")}e<=-t.settings.timer&&(clearInterval(n),t.close())}),t.settings.timer)}},close:function(){var t=this,n=parseInt(this.$ele.css(this.settings.placement.from)),i=!1;this.$ele.attr("data-closing","true").addClass(this.settings.animate.exit),t.reposition(n),e.isFunction(t.settings.onClose)&&t.settings.onClose.call(this.$ele),this.$ele.one(this.animations.start,(function(){i=!0})).one(this.animations.end,(function(){e(this).remove(),e.isFunction(t.settings.onClosed)&&t.settings.onClosed.call(this)})),setTimeout((function(){i||(t.$ele.remove(),t.settings.onClosed&&t.settings.onClosed(t.$ele))}),600)},reposition:function(t){var n=this,i='[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])',a=this.$ele.nextAll(i);!0===this.settings.newest_on_top&&(a=this.$ele.prevAll(i)),a.each((function(){e(this).css(n.settings.placement.from,t),t=parseInt(t)+parseInt(n.settings.spacing)+e(this).outerHeight()}))}}),e.notify=function(e,n){return new t(this,e,n).notify},e.notifyDefaults=function(t){return n=e.extend(!0,{},n,t)},e.notifyClose=function(t){"warning"===t&&(t="danger"),void 0===t||"all"===t?e("[data-notify]").find('[data-notify="dismiss"]').trigger("click"):"success"===t||"info"===t||"warning"===t||"danger"===t?e(".alert-"+t+"[data-notify]").find('[data-notify="dismiss"]').trigger("click"):t?e(t+"[data-notify]").find('[data-notify="dismiss"]').trigger("click"):e('[data-notify-position="'+t+'"]').find('[data-notify="dismiss"]').trigger("click")},e.notifyCloseExcept=function(t){"warning"===t&&(t="danger"),"success"===t||"info"===t||"warning"===t||"danger"===t?e("[data-notify]").not(".alert-"+t).find('[data-notify="dismiss"]').trigger("click"):e("[data-notify]").not(t).find('[data-notify="dismiss"]').trigger("click")}})),function(e){function t(e,t,a){var o=e[0],r=/er/.test(a)?p:/bl/.test(a)?f:u,s=a==g?{checked:o[u],disabled:o[f],indeterminate:"true"==e.attr(p)||"false"==e.attr(m)}:o[r];if(/^(ch|di|in)/.test(a)&&!s)n(e,r);else if(/^(un|en|de)/.test(a)&&s)i(e,r);else if(a==g)for(r in s)s[r]?n(e,r,!0):i(e,r,!0);else t&&"toggle"!=a||(t||e[_]("ifClicked"),s?o[v]!==c&&i(e,r):n(e,r))}function n(t,n,a){var g=t[0],_=t.parent(),b=n==u,D=n==p,M=n==f,C=D?m:b?h:"enabled",k=o(t,C+r(g[v])),S=o(t,n+r(g[v]));if(!0!==g[n]){if(!a&&n==u&&g[v]==c&&g.name){var T=t.closest("form"),I='input[name="'+g.name+'"]';(I=T.length?T.find(I):e(I)).each((function(){this!==g&&e(this).data(l)&&i(e(this),n)}))}D?(g[n]=!0,g[u]&&i(t,u,"force")):(a||(g[n]=!0),b&&g[p]&&i(t,p,!1)),s(t,b,n,a)}g[f]&&o(t,x,!0)&&_.find("."+d).css(x,"default"),_[y](S||o(t,n)||""),M?_.attr("aria-disabled","true"):_.attr("aria-checked",D?"mixed":"true"),_[w](k||o(t,C)||"")}function i(e,t,n){var i=e[0],a=e.parent(),l=t==u,c=t==p,g=t==f,_=c?m:l?h:"enabled",b=o(e,_+r(i[v])),D=o(e,t+r(i[v]));!1!==i[t]&&(!c&&n&&"force"!=n||(i[t]=!1),s(e,l,_,n)),!i[f]&&o(e,x,!0)&&a.find("."+d).css(x,"pointer"),a[w](D||o(e,t)||""),g?a.attr("aria-disabled","false"):a.attr("aria-checked","false"),a[y](b||o(e,_)||"")}function a(t,n){t.data(l)&&(t.parent().html(t.attr("style",t.data(l).s||"")),n&&t[_](n),t.off(".i").unwrap(),e(b+'[for="'+t[0].id+'"]').add(t.closest(b)).off(".i"))}function o(e,t,n){if(e.data(l))return e.data(l).o[t+(n?"":"Class")]}function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}function s(e,t,n,i){i||(t&&e[_]("ifToggled"),e[_]("ifChanged")[_]("if"+r(n)))}var l="iCheck",d=l+"-helper",c="radio",u="checked",h="un"+u,f="disabled",m="determinate",p="in"+m,g="update",v="type",y="addClass",w="removeClass",_="trigger",b="label",x="cursor",D=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);e.fn[l]=function(o,r){var s='input[type="checkbox"], input[type="'+c+'"]',h=e(),m=function(t){t.each((function(){var t=e(this);h=t.is(s)?h.add(t):h.add(t.find(s))}))};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(o))return o=o.toLowerCase(),m(this),h.each((function(){var n=e(this);"destroy"==o?a(n,"ifDestroyed"):t(n,!0,o),e.isFunction(r)&&r()}));if("object"!=typeof o&&o)return this;var x=e.extend({checkedClass:u,disabledClass:f,indeterminateClass:p,labelHover:!0,aria:!1},o),M=x.handle,C=x.hoverClass||"hover",k=x.focusClass||"focus",S=x.activeClass||"active",T=!!x.labelHover,I=x.labelHoverClass||"hover",E=0|(""+x.increaseArea).replace("%","");return"checkbox"!=M&&M!=c||(s='input[type="'+M+'"]'),-50>E&&(E=-50),m(this),h.each((function(){var o=e(this);a(o);var r=this,s=r.id,h={position:"absolute",top:m=-E+"%",left:m,display:"block",width:h=100+2*E+"%",height:h,margin:0,padding:0,background:"#fff",border:0,opacity:0},m=D?{position:"absolute",visibility:"hidden"}:E?h:{position:"absolute",opacity:0},p="checkbox"==r[v]?x.checkboxClass||"icheckbox":x.radioClass||"i"+c,M=e(b+'[for="'+s+'"]').add(o.closest(b)),F=!!x.aria,O=l+"-"+Math.random().toString(36).replace("0.",""),A='<div class="'+p+'" '+(F?'role="'+r[v]+'" ':"");M.length&&F&&M.each((function(){A+='aria-labelledby="',this.id?A+=this.id:(this.id=O,A+=O),A+='"'})),A=o.wrap(A+"/>")[_]("ifCreated").parent().append(x.insert),h=e('<ins class="'+d+'"/>').css(h).appendTo(A),o.data(l,{o:x,s:o.attr("style")}).css(m),x.inheritClass&&A[y](r.className||""),x.inheritID&&s&&A.attr("id",l+"-"+s),"static"==A.css("position")&&A.css("position","relative"),t(o,!0,g),M.length&&M.on("click.i mouseover.i mouseout.i touchbegin.i touchend.i",(function(n){var i=n[v],a=e(this);if(!r[f]){if("click"==i){if(e(n.target).is("a"))return;t(o,!1,!0)}else T&&(/ut|nd/.test(i)?(A[w](C),a[w](I)):(A[y](C),a[y](I)));if(!D)return!1;n.stopPropagation()}})),o.on("click.i focus.i blur.i keyup.i keydown.i keypress.i",(function(e){var t=e[v];return e=e.keyCode,"click"!=t&&("keydown"==t&&32==e?(r[v]==c&&r[u]||(r[u]?i(o,u):n(o,u)),!1):void("keyup"==t&&r[v]==c?!r[u]&&n(o,u):/us|ur/.test(t)&&A["blur"==t?w:y](k)))})),h.on("click mousedown mouseup mouseover mouseout touchbegin.i touchend.i",(function(e){var n=e[v],i=/wn|up/.test(n)?S:C;if(!r[f]){if("click"==n?t(o,!1,!0):(/wn|er|in/.test(n)?A[y](i):A[w](i+" "+S),M.length&&T&&i==C&&M[/ut|nd/.test(n)?w:y](I)),!D)return!1;e.stopPropagation()}}))}))}}(window.jQuery||window.Zepto);var token_csrf=$("meta[name=csrf-token]").attr("content");class tableGear{constructor(e,t,n,i=!1){this.content=e,this.template=this.content.find(".template-list").html(),this.loader=this.content.find(".overlay"),this.table=n,this.data="",this.dataSelect="",this.modalSelect="",this.data_complete="",this.method="GET",this.xhr="",this.lastCheckedListData=null,this.checks="",this.name_url="",this.meta_field_text={key:"",field:"",value:""},this.iconLeft="fa fa-arrow-left",this.iconRigth="fa fa-arrow-right",this.numberPage='<button type="button" class="btn ">\n\t\t\t                  <i class="wb-refresh" aria-hidden="true"></i>\n\t\t\t                </button>',this.form={url:t,data:"",pag:1},this.filter={search:"",row:10,token:token_csrf},this.functionOptional=i,this.hiddenColumn=!0,this.hiddenColumnAlt=!0,this.tablePaginate=!0,this.tableFilterRow=this.content.find(".filter_row"),this.keepUrl=!1,this.checkFunctionEnabler=!1,this.checkFunction="";let a=this;this.content.find(".filter_refresh").click((function(){a.refresh()})),this.content.find(".filter_select_1").click((function(){a.CheckboxSelect(!0)})),this.content.find(".filter_select_0").click((function(){a.CheckboxSelect(!1)})),this.content.find(".menu-select").hide()}AddUrlTable(){if(!this.keepUrl){var e="?",t=this.name_url;$.each(this.filter,(function(n,i){i&&"token"!=n&&(t+=e+n+"="+i,e="&")})),history.pushState({selector:""},"/"+this.name_url,t)}}RefreshUrl(){let e=this;this.keepUrl||$.each(e.filter,(function(t,n){if($.get(t)){e.filter[t]=$.get(t);let n=e.filter[t];if($(e.content).find(".filter_"+t+' option[value="'+$.get(t)+'"]').prop("selected",!0),$(e.content).find(".filter_"+t).val($.get(t)),"button"==$(".filter_"+t).prop("type")){var i=$(".filter_"+t).siblings().find("a");let a=null;$.each(i,(function(e,t){$(t).attr("value")==n&&(a=$(t).html())})),$(e.content).find(".filter_"+t).html(a)}}}))}StateXhr(){this.xhr&&4!=this.xhr.readyState&&this.xhr.abort()}SelectList(){return $(this.content).find("table")}PrintList(e){$(this.SelectList()).html(e)}AppendList(e){$(this.SelectList()).append(e)}isDataURL(){return"GET"==this.method}refreshForm(){let e=this.filter,t="",n="";$.each(e,(function(e,i){t+=n+"_"+e+"="+i,n="&"})),this.form.data=t}list(){let e=this;this.StateXhr(),this.refreshForm();let t=this.form.url+"?page="+this.form.pag;this.xhr=$.ajax({url:e.isDataURL()?t+"&"+this.form.data:t,data:e.isDataURL()?null:this.form.data,dataType:"json",type:e.method}).done((function(t){e.ResultData(t)})).fail((function(t){e.ResultError(t)}))}ResultData(e){this.data=e.data.data,this.data_complete=e,this.LoadListTable(),this.tablePaginate?this.paginate(6):this.tableFilterRow.hide(),this.AutoWidthTd(),this.CheckboxAddClass(),this.CheckboxShiftAdd(),this.loader.hide(),this.functionOptional&&self[this.functionOptional](e),this.ChangeFieldIcon(!1),e.data.data.length||this.DivItemsNotFound(!0)}DivItemsNotFound(e=!1){let t=e?"block":"none";$(this.content).find(".items-not-found").css("display",t)}FilterFunction(){let e=this;$.each(this.filter,(function(t,n){let i=t;if($(".filter_"+t).length)if("select-one"==$(".filter_"+t).prop("type"))e.content.find(".filter_"+t).change((function(){e.FilterRefresh(i,$(this).val())}));else if("text"==$(".filter_"+t).prop("type")){e.content.find(".filter_"+t).keyup((function(){e.meta_field_text.field=".filter_"+t,e.meta_field_text.key=t,e.meta_field_text.value=$(this).val(),e.IntervalClear(),e.IntervalField(),e.ChangeFieldIcon(!0),e.ChangeFieldMessage(!1)}))}else if("button"==$(".filter_"+t).prop("type")){let n=e.content.find(".filter_"+t);n.siblings().find("a").click((function(){n.html($(this).html()),n.val($(this).attr("value")),e.FilterRefresh(i,n.val())}))}}))}ChangeFieldMessage(e=!0){let t=this.content.find(".filter_"+this.meta_field_text.key+"_label"),n=this.meta_field_text.value;e&&n.length<=2&&n.length>0?t.show():t.hide()}ChangeFieldIcon(e=!0){let t="fa-spin",n="fa-search",i="fa-cog",a=this.content.find(".filter_"+this.meta_field_text.key+"_icon");e?(a.addClass(t),a.addClass(i),a.removeClass(n)):(a.removeClass(t),a.removeClass(i),a.addClass(n))}IntervalClear(){clearInterval(this.interval)}IntervalField(){let e=this;this.interval=setInterval((function(){e.QueryField()}),700,"JavaScript")}QueryField(){this.IntervalClear(),this.ChangeFieldMessage(),this.meta_field_text.value.length>=3?this.FilterRefresh(this.meta_field_text.key,this.meta_field_text.value):""!=this.filter[this.meta_field_text.key]?this.FilterRefresh(this.meta_field_text.key,""):this.ChangeFieldIcon(!1)}FilterRefresh(e,t){this.filter[e]=t,this.form.pag=1,this.refresh()}ResultError(e){this.loader.hide(),this.FailQuery(e)}LoadListTable(){let e=this,t=this.data_complete.data.data,n=$(this.template);this.data=[],this.PrintList(""),this.content.find(".JCLRgrips").remove();let i=n.clone();this.LoadDataTable(i,this.table,null,1,this.hiddenColumn,this.hiddenColumnAlt),this.AppendList(i),$.each(t,(function(t,i){let a=n.clone();e.LoadDataTable(a,i,t,2,e.hiddenColumn,e.hiddenColumnAlt),e.AppendList(a),e.data[t]=new structureData(t,i)}))}LoadDataTable(e,t,n,i,a,o){if(1==i){let n=e[0].cells;$.each(n,(function(e,n){$(n).html(t[e]),$(n).addClass("orderColumn")}))}else if(2==i){e.attr("data-id",t.id),e[0].innerHTML=e[0].innerHTML.replace("#key#","id_chk"+n),0!=t.state_tr&&0!=t.state_tr||$(e).addClass("state_"+t.state_tr),$.each(t,(function(t,n){e[0].innerHTML=e[0].innerHTML.replaceAll("#_"+t+"_#",n)}));let i=$(e[0]).find(".number");$.each(i,(function(e,t){let n=$(t).attr("data-currency"),i=$(t).attr("data-currency-right"),a=$(t).attr("data-decimals"),o="";o="null"!=$(t).html()?formatNumber.new($(t).html(),n,a):formatNumber.new(0,n,a),i?$(t).text(o+" "+i):$(t).text(o)}));let a=$(e[0]).find(".boolean");$.each(a,(function(e,t){let n=$(t).attr("data-true"),i=$(t).attr("data-false"),a="";a=1==$(t).html()?n:i,$(t).text(a)}))}o&&(e[0].innerHTML=e[0].innerHTML.replaceAll("none-alt-column","hide-column")),a&&(e[0].innerHTML=e[0].innerHTML.replaceAll("none-column","hide-column"))}paginate(e){let t=$(this.content).find(".paginate");t.html(""),this.PaginateBtn(e);var n=this;t.find(":button").click((function(){let e=$(this).data("state"),t=$(this).data("page"),i=n.data_complete.data.current_page;0==e?i--:1==e?i++:2==e&&(i=t),n.form.pag=i,n.refresh()}))}PaginateBtn(e){let t=this,n=$(this.content).find(".paginate"),i=this.data_complete.data,a=i.last_page,o=i.current_page,r=1;e>=a?e=a-1:o-e/2>=1&&(r=o+e/2<=a?o-e/2:a-e),t.PaginatePrintBnt(n,0,i.current_page-1,"Anterior",1,this.iconLeft,i);for(var s=r;s<=r+e;s++)t.PaginatePrintBnt(n,2,s,"Pagina "+s,0,s,i);t.PaginatePrintBnt(n,1,i.current_page+1,"Siguiente",1,this.iconRigth,i),$(this.content).find(".paginate-total").text("Total: "+i.total),n.click((function(){$("html,body").animate({scrollTop:$(t.content).offset().top-140},250)}))}PaginatePrintBnt(e,t,n,i,a,o,r){let s=this.numberPage,l=$(s).clone();l.attr("data-state",t),l.attr("data-page",n),l.attr("title",i),1==a?l.find("i").addClass(o):l.text(o),0==t&&l.addClass("btn-previous"),1==t&&l.addClass("btn-next"),0==t&&1==r.current_page&&l.attr("disabled",!0),1==t&&r.current_page==r.last_page&&l.attr("disabled",!0),2==t&&r.current_page==n&&l.addClass("btn-primary"),$(e).append(l)}FailQuery(e){500==e.status&&notify(3),404==e.status&&notify(1),422==e.status&&notify(4)}CheckboxAddClass(){$(this.content).find(".checkbox-icheck").iCheck({checkboxClass:"icheckbox_flat-blue",radioClass:"iradio_minimal",increaseArea:"20%"})}CheckboxSelect(e,t=!1,n=!1){let i=$(this.SelectList()),a=n||i.find("input:checkbox"),o=i.find(".check_everyboby"),r=a.parent().parent().parent();e?a.iCheck("check"):a.iCheck("uncheck"),e?r.addClass("active"):r.removeClass("active"),e?o.prop("checked",!0):o.prop("checked",!1),this.CheckboxCount()}CheckboxArraySelect(e,t){let n=this;$.each(this.data_complete.data.data,(function(i,a){a[e]==t&&n.CheckboxSelect(!0,!0,n.content.find("#id_chk"+i))}))}CheckboxCount(){let e=this.SelectList().find("input:checkbox");this.checks=[],this.checks.length=0;let t=this,n=0;for(let i=0;i<e.length;i++)e[i].checked&&(t.checks[n]=$(e[i]).parent().parent().parent().data("id"),n+=1);n?this.content.find(".menu-select").show():this.content.find(".menu-select").hide(),this.content.find(".menu-select").find(".number-selected").text(n),this.checkFunctionEnabler&&self[this.checkFunction](t.checks)}CheckboxShiftAdd(){let e=this.SelectList(),t=e.find(".iCheck-helper"),n=this;$(t).click((function(t){let i=e.find("input:checkbox"),a=$(this).siblings("input:checkbox"),o=a.parent().parent().parent();if(a.is(":checked")?o.addClass("active"):o.removeClass("active"),!n.lastCheckedListData)return n.lastCheckedListData=a,void n.CheckboxCount();if(t.shiftKey){let e=i.index(a),t=i.index(n.lastCheckedListData);for(let n=i.slice(Math.min(e,t),Math.max(e,t)+1).length-1;n>=0;n--){let o=$(i.slice(Math.min(e,t),Math.max(e,t)+1)[n]),r=o.parent().parent().parent();a.is(":checked")?r.addClass("active"):r.removeClass("active"),a.is(":checked")?o.iCheck("check"):o.iCheck("uncheck")}}n.lastCheckedListData=a,n.CheckboxCount()}))}ChangeRow(e){let t=$(e).html();this.filter.row=t,this.form.pag=1,this.refresh()}Modal(e){let t=$(e).parent().parent().index(),n=$(e).data("action");this.modalSelect=$($(e).data("modal")),this.dataSelect=t?this.data[t-1].data:0,this.modalSelect.modal({backdrop:"static",keyboard:!1}),this.ModalLoader(!1),n&&self[n](this.dataSelect);let i=this;this.modalSelect.find(".btn-close").click((function(){i.ModalClose()}))}ModalLoader(e){this.modalSelect&&(e?this.modalSelect.find(".overlay").show():this.modalSelect.find(".overlay").hide())}ModalClose(e=null){e&&e[0].reset(),this.ModalLoader(!1),this.modalSelect&&this.modalSelect.modal("hide"),e&&this.ModalClearForm(e)}ModalClearForm(e){let t=e.find("input"),n=e.find("select"),i=e.find("textarea");t.removeClass("is-invalid"),n.removeClass("is-invalid"),i.removeClass("is-invalid"),t.parent().find(".label-error").html(""),n.parent().find(".label-error").html(""),i.parent().find(".label-error").html("")}ModalValidateInputs(e,t){this.ModalClearForm(t),$.each(e,(function(e,n){let i=t.find("input[name="+e+"]"),a=t.find("select[name="+e+"]"),o=t.find("textarea[name="+e+"]");i.parent().find(".label-error").html('<i class="fa fa-exclamation-triangle"></i> '+n),i.hasClass("flatpickr-input")&&i.parent().parent().find(".label-error").html('<i class="fa fa-exclamation-triangle"></i> '+n),a.parent().find(".label-error").html('<i class="fa fa-exclamation-triangle"></i> '+n),o.parent().find(".label-error").html('<i class="fa fa-exclamation-triangle"></i> '+n),i.addClass("is-invalid"),a.addClass("is-invalid"),o.addClass("is-invalid")}))}ModalLoadForm(){let e=this;$.each(this.dataSelect,(function(t,n){e.modalSelect.find("form").find("input[name="+t+"]").val(n),e.modalSelect.find("form").find("textarea[name="+t+"]").val(n)}))}LoadSelect(e,t,n,i){let a=t;$(e).find("option").remove(),e.attr("data-placeholder")&&(i=e.attr("data-placeholder")),i?$(e).append('<option data-alt="" value="" class="c_gray_cl">'+i+"</option>"):$(e).append('<option data-alt="" value="" class="c_gray_cl">Selecciona...</option>'),$.each(a,(function(t,n){$(e).append($("<option>",{value:a[t].id,text:a[t].name}))})),n&&e.find('option[value="'+n+'"]').attr("selected","selected")}LoadCheck(e,t){t?e.attr("checked",!0):e.attr("checked",!1)}AutoWidthTd(){let e=this.SelectList().find("tr");var t=$(e[1]).find("td")[0];let n,i=$(t).find("i").length+$(t).find("input").length;switch(i){case 1:n=55;break;case 2:n=40;break;case 3:n=37;break;case 4:n=36;break;default:n=33}i&&($(e[0]).find("td")[0].width=i*n+"px")}refresh(e=!1){this.DivItemsNotFound(!1),e&&this.FilterFunction(),e&&this.RefreshUrl(),this.AddUrlTable(),this.refreshForm(),this.list(),this.checks=null,this.content.find(".menu-select").hide(),this.loader.show()}GetDataById(e){let t=[];return $.each(this.data,(function(n,i){e.find((e=>e===i.data.id))&&t.push(i.data)})),t}}jQuery.get=function(e){e=(e=e.replace(/[\[]/,"\\[")).replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=unescape(window.location.href),i=t.exec(n);return null===i?null:i[1]};class structureData{constructor(e,t){this.num=e,this.data=t}}function notify(e,t=null,n=null,i=null,a=2){var o=[{name:"info",icono:"fa fa-info mr-10"},{name:"danger",icono:"fa fa-ban mr-10"},{name:"success",icono:"fa fa-check mr-10"},{name:"warning",icono:"fa fa-warning mr-10"}],r=[{title:"defaul",text:"",numType:"1"},{title:"Comprueba tu Conexión",text:"No se puede conectar a la base de datos",numType:"1"},{title:"La operación se realizo con éxito",text:"",numType:"2"},{title:"Error Controller",text:"No se puede recibir información del controlador",numType:"1"},{title:"Problemas al validar los campos",text:"",numType:"1"}];e&&(t=r[e].title,n=r[e].text,i=r[e].numType),positionDev={from:"bottom",align:"right"},2==a?positionDev={from:"bottom",align:"left"}:3==a?positionDev={from:"top",align:"right"}:4==a&&(positionDev={from:"top",align:"left"}),$.notify({icon:o[i].icono,title:t,message:n},{element:"body",position:null,type:o[i].name,allow_dismiss:!0,newest_on_top:!1,showProgressbar:!1,placement:positionDev,offset:20,spacing:10,z_index:1800,delay:5e3,timer:100,margin_top:10,url_target:"_blank",mouse_over:null,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"},onShow:null,onShown:null,onClose:null,onClosed:null,icon_type:"class",template:'<div class="alert alert-table-gear dark alert-alt alert-{0} alert-dismissible" role="alert">\n                        <button type="button" class="close" data-dismiss="alert" data-notify="dismiss" aria-label="Close">\n                            <span aria-hidden="true">×</span>\n                        </button>\n                        <span data-notify="icon"></span>\n                        {1}<br><a class="alert-link" href="javascript:void(0)">{2}</a>\n                    </div>'})}function GroupBy(e,t){return e.reduce((function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e}),{})}let location_es={format:"YYYY-MM-DD",separator:" - ",applyLabel:"Aplicar",cancelLabel:"Cancelar",fromLabel:"From",toLabel:"To",customRangeLabel:"Custom",daysOfWeek:["Dom","Lun","Mar","Mie","Jue","Vie","Sab"],monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],firstDay:1};function FormatNumber(e,t){if(e+="",e=parseFloat(e.replace(/[^0-9\.]/g,"")),t=t||0,isNaN(e)||0===e)return parseFloat(0).toFixed(t);for(var n=(e=""+e.toFixed(t)).split("."),i=/(\d+)(\d{3})/;i.test(n[0]);)n[0]=n[0].replace(i,"$1.$2");return n.join(".")}String.prototype.replaceAll=function(e,t){return this.split(e).join(t)};var formatNumber={separador:".",sepDecimal:",",formatear:function(e){e=parseFloat(e).toFixed(this.decimals);for(var t=(e+="").split("."),n=t[0],i=t.length>1?this.sepDecimal+t[1]:"",a=/(\d+)(\d{3})/;a.test(n);)n=n.replace(a,"$1"+this.separador+"$2");return this.simbol+" "+(n+i)},new:function(e,t,n){return this.simbol=t||"",this.decimals=n||"",this.formatear(e)}};function loaderContent(e,t=!1){t?e.find(".overlay-modal").show():e.find(".overlay-modal").hide()}$.datepicker.regional.es={closeText:"Cerrar",prevText:"< Ant",nextText:"Sig >",currentText:"Hoy",monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],dayNames:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],dayNamesShort:["Dom","Lun","Mar","Mié","Juv","Vie","Sáb"],dayNamesMin:["Do","Lu","Ma","Mi","Ju","Vi","Sá"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.setDefaults($.datepicker.regional.es);class QueryAjax{constructor(e){this.data="",this.xhr="",this.method="",this.url="",this.action="",this.form=!1,this.listTable=!1,this.loaderSelected=!1;let t=this;$.each(e,(function(e,n){t[e]=n})),this.LoadForm(),this.var={token:token_csrf},this.formatData={token:token_csrf}}LoadForm(){if(this.form){this.form=$('form[name="'+this.form+'"]');let e=this.form.attr("action"),t=this.form.attr("method");e&&(this.url=e),t&&(this.method=t)}}StateXhr(){this.xhr&&4!=this.xhr.readyState&&this.xhr.abort()}IsDataURL(){return"GET"==this.method}UpdateForm(){if(this.form)this.formatData=this.form.serialize();else{let e="",t="";$.each(this.var,(function(n,i){e+=t+"_"+n+"="+i,t="&"})),this.formatData=e}}Loader(e=!0){this.listTable&&this.listTable.ModalLoader(e),this.loaderSelected&&(e?this.loaderSelected.show():this.loaderSelected.hide())}IsFormListTable(){return!!this.form}Query(){let e=this;this.Loader(),this.IsFormListTable()&&UtilClearFormUi(this.form),this.StateXhr(),this.UpdateForm(),$.ajax({url:e.IsDataURL()?e.url+"?"+e.formatData:e.url,data:e.IsDataURL()?null:e.formatData,dataType:"json",type:e.method}).done((function(t){e.Loader(!1),e.ResultSuccess(t)})).fail((function(t){e.Loader(!1),e.ResultFailed(t)}))}ResultSuccess(e){this.data=e,this.action&&self[this.action](!0,e)}ResultFailed(e){this.MapErrors(e),this.data=e.responseJSON,this.action&&self[this.action](!1,e)}MapErrors(e){if(422==e.status&&this.IsFormListTable())UtilValidateInputs(e.responseJSON.errors,this.form);else{let t,n;e.hasOwnProperty("responseJSON")&&(t=e.responseJSON?e.responseJSON.message:"not found",n=e.responseJSON?e.responseJSON.exception:"not found",0==e.status&&(n="ERR_INTERNET_DISCONNECTED")),notify(!1,"Status: "+e.status+" Resource: "+this.method+": "+this.url,"Exception: "+n+" <br>Message: "+t,1)}}FormClose(e=!0){this.form&&this.form[0].reset(),this.form&&this.listTable&&this.listTable.ModalClearForm(this.form),e&&this.listTable&&this.listTable.modalSelect.modal("hide"),this.Loader(!1)}Send(){this.Query()}}function LoadFormInputs(e,t){$.each(t,(function(t,n){e.find("form").find("input[name="+t+"]").val(n),e.find("form").find("textarea[name="+t+"]").val(n)}))}function LoadSelectUtil(e,t,n,i){$(e).find("option").remove(),i?$(e).append('<option data-alt="" value="" class="c_gray_cl">'+i+"</option>"):$(e).append('<option data-alt="" value="" class="c_gray_cl">Selecciona...</option>'),$.each(t,(function(t,n){$(e).append('<option data-alt="'+n.alt+'" value="'+n.id+'">'+n.name+"</option>")})),n&&$(e).find('option[value="'+n+'"]').attr("selected","selected")}function UtilClearFormUi(e){let t=e.find("input"),n=e.find("select"),i=e.find("textarea");t.removeClass("is-invalid"),n.removeClass("is-invalid"),i.removeClass("is-invalid"),t.parent().find(".label-error").html(""),n.parent().find(".label-error").html(""),i.parent().find(".label-error").html("")}function UtilValidateInputs(e,t){UtilClearFormUi(t),$.each(e,(function(e,n){let i=t.find("input[name="+e+"]"),a=t.find("select[name="+e+"]"),o=t.find("textarea[name="+e+"]");i.parent().find(".label-error").html('<i class="fa fa-exclamation-triangle"></i> '+n),i.hasClass("flatpickr-input")&&i.parent().find(".label-error").html('<i class="fa fa-exclamation-triangle"></i> '+n),a.parent().find(".label-error").html('<i class="fa fa-exclamation-triangle"></i> '+n),o.parent().find(".label-error").html('<i class="fa fa-exclamation-triangle"></i> '+n),i.addClass("is-invalid"),a.addClass("is-invalid"),o.addClass("is-invalid")}))}function UtilFormClose(e){e.find("select").each((function(){this.selectedIndex=0})),e.find("input[type=text]").each((function(){this.value=""})),e.find("input[type=password]").each((function(){this.value=""})),e.find("textarea").each((function(){this.value=""})),UtilClearFormUi(e)}function UtilModalLoader(e,t=!0){t?e.find(".overlay").show():e.find(".overlay").hide()}var tokenCsrf=$("meta[name=csrf-token]").attr("content");class searchByAutocomplete{constructor(e,t){this.container=e,this.xhr=null,this.method="GET",this.url="",this.parameters=[],this.params=[],this.actionBefore=null,this.actionAfter=null,this.input=null,this.ulItems=null,this.divSelectedItems=null,this.inputHidden=null,this.labelError=null,this.animationClass="fa-spin",this.iconSearch="fa-search",this.iconLoading="fa-cog",this.paramSearch="search",this.data=[],this.selectedItems=[],this.limitItems=1,this.minimumCharactersToSearch=3;let n=this;$.each(t,(function(e,t){n[e]=t})),this.loadElementHtml(),this.loadParameters(),this.addParameter(this.paramSearch),this.resetItems(!1),this.requestGetUrl(),this.eventKeyupSearchField(),this.evetOutsideContainer()}eventAddDataSelected(e){if(!(e instanceof Object))return this.printLog("Not Object"),!1;let t=e.id,n=e.name,i=e.image;this.addItemSelected(t,n,i)}evetOutsideContainer(){this.containerId=this.container.attr("id");let e=this;window.addEventListener("click",(function(t){document.getElementById(e.containerId).contains(t.target)||e.resetItems(!1)}))}loadElementHtml(){this.input=this.container.find(".input-search"),this.input.length||this.printLog("Input search not found"),this.inputHidden=this.container.find(".input-hidden"),this.inputHidden.length||this.printLog("Input hidden not found"),this.ulItems=this.container.find(".items"),this.ulItems.length||this.printLog("ul-items not found"),this.iconInput=this.container.find(".icon-loading"),this.iconInput.length||this.printLog("iconInput not found"),this.labelError=this.container.find(".label-error"),this.labelError.length||this.printLog("labelError not found"),this.divSelectedItems=this.container.find(".selected-items"),this.divSelectedItems.length||this.printLog("divSelectedItems not found")}eventKeyupSearchField(){let e=this;this.input.keyup((function(){if(e.getParameter(e.paramSearch)==$(this).val())return!0;e.setParameter(e.paramSearch,$(this).val()),e.requestByEventKeyupSearch($(this).val())}))}setMessageSearch(e,t=1){let n=['<em class="fa fa-exclamation-circle"> Ocurrio un error','<em class="fa fa-exclamation-circle"> Mínimo tres caracteres para iniciar la busqueda','<em class="fa fa-exclamation-circle"> No se encontraron resultados'],i=["","label-error-search","label-error-result"];e?(this.labelError.addClass(i[t]),this.labelError.html(n[t])):(i.forEach((function(e){this.labelError.removeClass(e)}),this),this.labelError.text(""))}eventLoading(e){e?(this.iconInput.addClass(this.animationClass),this.iconInput.addClass(this.iconLoading),this.iconInput.removeClass(this.iconSearch)):(this.iconInput.removeClass(this.animationClass),this.iconInput.removeClass(this.iconLoading),this.iconInput.addClass(this.iconSearch))}requestByEventKeyupSearch(e){let t=this;clearInterval(this.interval),this.setMessageSearch(!1),this.eventLoading(!0),this.interval=setInterval((function(){clearInterval(t.interval),e.length>=t.minimumCharactersToSearch?t.request():e.length?(t.resetItems(!1),t.setMessageSearch(!0),t.eventLoading(!1)):(t.resetItems(!1),t.setMessageSearch(!1),t.eventLoading(!1))}),700,"JavaScript")}loadParameters(){this.params.forEach((function(e){"object"==typeof e&&this.addParameter(e.name,e.value)}),this)}addParameter(e,t){this.parameters.push({name:e,value:t})}setParameter(e,t){this.parameters.forEach((function(n,i){if(n.name==e)return this.parameters[i].value=t,!0}),this)}getParameter(e){let t=null;return this.parameters.forEach((function(n,i){n.name==e&&(t=this.parameters[i].value)}),this),t}requestGetUrl(){let e=this.url;if("GET"==this.method){let t="?_";$.each(this.parameters,(function(n,i){e+=`${t}${i.name}=${i.value}`,t="&_"}))}return e}requestGetData(){if("GET"==this.method)return[]}requestStateXhr(){this.xhr&&4!=this.xhr.readyState&&this.xhr.abort()}request(){this.requestStateXhr(),this.requestGetUrl();let e=this;this.xhr=$.ajax({url:e.requestGetUrl(),data:e.requestGetData(),dataType:"json",type:e.method}).done((function(t){e.eventLoading(!1),e.requestSuccessfull(t)})).fail((function(t){e.eventLoading(!1),e.requestFailed(t)}))}requestSuccessfull(e){if(this.data=e.data,this.resetItems(!0),!this.data.length)return this.setMessageSearch(!0,2),this.resetItems(!1,!1),!0;this.data.forEach((function(e,t){this.ulItems.append(`<li data-id="${t}">\n        ${e.name}\n      </li>`)}),this),this.eventSelectItem()}eventSelectItem(){let e=this;this.setMessageSearch(!1),this.ulItems.find("li").click((function(){let t=e.data[$(this).attr("data-id")],n=t.id,i=t.name,a=t.image;e.addItemSelected(n,i,a)}))}addItemSelected(e="",t="",n=""){this.selectedItems.push({id:e,name:t,image:n}),this.eventLimitItems(),this.resetItems(!1,!0),this.listItems(),this.setInputHidden()}setInputHidden(){this.inputHidden.val(this.getParameterToInput())}getParameterToInput(){let e="",t="";return $.each(this.selectedItems,(function(n,i){e+=`${t}${i.id}`,t=","})),e}eventRemoveItem(){let e=this;this.divSelectedItems.find("label em").click((function(){e.selectedItems.splice($(this).attr("data-id"),1),e.listItems(),e.eventLimitItems(),e.setInputHidden()}))}eventLimitItems(){this.selectedItems.length>=this.limitItems?(this.input.prop("disabled",!0),this.iconInput.addClass("icon-disabled"),1==this.limitItems&&(this.input.addClass("item-limit-display"),this.iconInput.addClass("item-limit-display"),this.divSelectedItems.addClass("display-unique"))):(this.input.prop("disabled",!1),this.iconInput.removeClass("icon-disabled"),1==this.limitItems&&(this.input.removeClass("item-limit-display"),this.iconInput.removeClass("item-limit-display"),this.divSelectedItems.removeClass("display-unique")))}listItems(){this.divSelectedItems.html(""),this.selectedItems.forEach((function(e,t){this.divSelectedItems.append(`<label class="badge badge-light">\n        ${e.name}\n        <em class="fa fa-close" data-id="${t}">\n      </label>`)}),this),this.eventRemoveItem()}requestFailed(e){this.resetItems(!1),this.printLog("request failed")}resetItems(e,t=!1){this.ulItems.html(""),e?this.ulItems.css("display","block"):this.ulItems.css("display","none"),t&&(this.input.val(""),this.inputHidden.val(""))}clearSelect(){this.selectedItems=[],this.eventLimitItems(),this.resetItems(!1,!0),this.listItems()}printLog(e){console.log(`ERROR_SEARCH_BY_AUTOCOMPLETE: ${e}`)}}function utilLoadAutoCompleteByArray(e,t){e.forEach((e=>{t.eventAddDataSelected({id:e.id,name:e.name})}))}var pathArray=location.href.split("/"),protocol=pathArray[0],host=pathArray[2],APP_URL=protocol+"//"+host,URL_IMG=APP_URL+"/img/app/";const BUTTON_CONTROL_MAIN=1,BUTTON_CONTROL_EDIT=2,URL_S3_IMAGE="https://agendapropia-files.s3.us-east-2.amazonaws.com/";class formFiles{constructor(e,t){this.url=e,this.data=t}}class varQuery{constructor(e){this.id=e,this.textarea="",this.type="",this.external_id=0,this.source_id=0,this.files=[],this._token=$("meta[name=csrf-token]").attr("content")}}class updloadS3{constructor(e,t){this.content=e,this.state=1,this.data=[],this.dataDelete=[],this.load=0,this.number=0,this.altFunction=!1,this.reload=!0,this.formExternalId=0,this.formSourceId=0,this.limitFiles=3,this.id=0,this.url="",this.borderField=!0,this.typeFile=1,this.sizeFile=100,this.send=e.find(".btn-save-files3"),this.listFiles=e.find(".upload-s3-list"),this.imagen=e.find(".btn-upload"),this.textarea=e.find("textarea[name=content]"),this.checkbox=e.find("input[name=resp_public]"),this.inputFile=e.find("input[name=file]"),this.template=$("#template-file"),this.loading=e.find(".overlay"),this.modalEdit=e.find(".modal-edit"),this.modalFiles=e.find(".modal-files");let n=this;$.each(t,(function(e,t){n[e]=t})),this.form=new formFiles(this.url,""),this.variables=new varQuery(this.id),this.variables.external_id=this.formExternalId,this.variables.source_id=this.formSourceId,this.xhr="",this.statusMove=!1,this.url_uploadFile="/uploadfiles_s3",this.url_removeFile="/destroyfiles_s3",this.files_url=URL_S3_IMAGE+"files/images/",this.awsBase=URL_S3_IMAGE,this.textarea.keyup((function(){n.changeTextarea(this)})),this.send.click((function(){n.sendQuery(this)})),this.inputFile&&(this.imagen.click((function(){n.inputFile.click()})),this.inputFile.change((function(){n.changeInputFile(this)}))),this.checkbox.change((function(){n.changeCheckbox()})),this.content.find(".btn-edit-back").click((function(){n.actionDiv(1)})),this.content.find(".btn-edit-save").click((function(){n.updateItemFile(this)})),this.authorAutocomplete=new searchByAutocomplete(this.modalEdit.find(".authorSelect"),{params:[],url:"/admin/accounts/users/search-by-autocomplete",limitItems:1,minimumCharactersToSearch:1}),this.move(),this.btnSend(!0),this.loading.hide(),this.actionDiv(1)}actionDiv(e=1){this.content.find(".button-controls").find(".main").hide(),this.content.find(".button-controls").find(".edit").hide(),this.modalEdit.hide(),this.modalFiles.show(),1==e?this.content.find(".button-controls").find(".main").show():2==e&&(this.content.find(".button-controls").find(".edit").show(),this.modalEdit.show(),this.modalFiles.hide())}loadData(e,t){this.variables.id=t;let n=this;this.listFiles.find("li:not(.ui-state-disabled)").remove(),this.data=[],this.dataDelete=[],$.each(e,(function(e,t){t.form_d="f_"+t.id,t.cont=t.id;let i=TypeFile(t.ext),a=new filesItem(t.id,!0,t.name,t.name_tmp,0,t.ext,2,i,t.form_d,t.author_id,t.author_name,t.description);add_file(n,a,2+i),n.data.push(a),n.load++})),this.orderData(),this.btnSend(!0),this.loading.hide()}move(){let e=this;this.listFiles.sortable({items:"li:not(.ui-state-disabled)",revert:!0,opacity:.6,cursor:"move",update:function(){e.orderData(),e.statusMove=!0,e.validateMove()}})}orderData(){let e=this,t=this.listFiles.find("li:not(.ui-state-disabled)"),n=1;$.each(t,(function(t,i){let a=$(i).attr("data-id"),o=e.searchData(a,"id");e.data[o]&&(e.data[o].order=n,$(i).attr("data-order",n)),n++}))}searchData(e,t){let n=null;return $.each(this.data,(function(i,a){a[t]==e&&(n=i)})),n}stateXhr(){this.xhr&&4!=this.xhr.readyState&&this.xhr.abort()}updateForm(){let e=this.variables,t="",n="";$.each(e,(function(e,i){t+=n+""+e+"="+i,n="&"})),this.form.data=t}sendQuery(){this.optionDisabled(!0),this.variables.files=JSON.stringify(this.data),this.variables.files_delete=JSON.stringify(this.dataDelete),this.updateForm();let e=this;this.stateXhr(),this.loading.show(),this.xhr=$.post(this.form.url,this.form.data,(function(t){e.reload&&e.clear(),e.optionDisabled(!1),e.btnSend(!0),e.altFunction&&self[e.altFunction](t),e.loading.hide()})).fail((function(t){e.loading.hide(),list_error(this,t)}))}clear(){this.listFiles.find("li:not(.ui-state-disabled)").remove(),this.data=[],this.dataDelete=[],this.load=0,this.number=0,this.checkbox.prop("checked",!1),this.textarea.val(""),this.borderField&&this.borderFiles(),this.actionDiv(1)}validate(e=!1,t=0){let n=0;this.data.forEach((function(i,a,o){e&&i.id==t&&1==i.type&&(i.state=!0),!i.state&&1==i.type&&n++})),n>0?this.btnSend(!0):this.btnSend(!1),this.borderField&&this.borderFiles()}validateMove(){let e=0;this.data.forEach((function(t,n,i){!t.state&&e++})),0==e&&(this.statusMove?this.btnSend(!1):this.btnSend(!0))}validateRemove(e=!1){if(e){let e=0;this.data.forEach((function(t,n,i){!t.state&&e++})),0==e&&(this.data.length||this.textarea.val()||this.dataDelete.length?this.btnSend(!1):this.btnSend(!0))}else this.data.length||this.textarea.val()||this.dataDelete.length?this.btnSend(!1):this.btnSend(!0);this.borderField&&this.borderFiles(),this.orderData()}optionDisabled(e){this.send.prop("disabled",e),this.imagen.prop("disabled",e),this.textarea.prop("disabled",e),this.checkbox.prop("disabled",e),e?this.listFiles.find(".delete").hide():this.listFiles.find(".delete").show()}borderFiles(){0==this.data.length?this.listFiles.removeClass("border-dashed"):this.listFiles.addClass("border-dashed")}btnSend(e){this.send.prop("disabled",e)}changeCheckbox(){this.variables.type=this.checkbox.is(":checked")}stateCheckbox(){return this.checkbox.is(":checked")}changeTextarea(e){areatextHeight(e),this.validateRemove(!0),this.variables.textarea=this.textarea.val()}changeInputFile(e){for(var t=0;t<e.files.length;++t){if(this.number++,!(this.data.length<this.limitFiles)){notify(!1,"Limite de archivos",`Se permiten solo ${this.limitFiles} archivo.`,1);break}var n=e.files[t];this.uploadFile(n,this.number)}this.inputFile.val("")}uploadFile(e,t){var n={id:t,file:e,form_d:"f_"+t,cont:t,name:e.name.toString(),size:e.size,ext:e.name.substring(e.name.lastIndexOf(".")),type:1,author:{id:1,name:""},description:""},i=file_type(n.ext,this.typeFile,n.name),a=file_size(n.size,this.sizeFile,n.name);if(n.type=i,i&&a){this.listFiles.show();var o=name_ramdom(i);let t=new filesItem(n.id,!1,n.name,o+n.ext,n.size,n.ext,1,i,n.form_d);var r;add_file(this,t,i,e);var s=this.content.find("."+n.form_d),l=new FormData;l.append("file",n.file),l.append("file_name",o),l.append("file_type",i),l.append("_token",$("meta[name=csrf-token]").attr("content")),this.load++,this.data.push(t),this.validate();let a=this;function d(){var e=new XMLHttpRequest;s.find(".progress").show(),e.upload.addEventListener("progress",(function(e){r=Math.round(e.loaded/e.total*100),s.find(".progress-bar").width(r+"%").html(r+"%")})),e.addEventListener("load",(function(e){e.currentTarget.status>=400?(s.find(".progress").hide(),s.find(".error").show()):0==e.total&&(1==n.type?(s.find(".cont").hide(),s.find(".image").css("background-image","url("+a.files_url+"thumbnails/"+$(s).data("name")+")")):(s.find(".download").show(),s.find(".text").addClass("name_file")),s.find(".progress").hide(),a.validate(!0,n.id)),a.orderData()})),e.addEventListener("error",(function(e){s.find(".error").show(),s.find(".progress").hide()})),e.open("post",APP_URL+a.url_uploadFile),e.send(l),s.find(".btn-delete").click((function(t){t.preventDefault(),e.abort();let n=s.data("id"),i=s.data("name");s.remove();let o=null,r=0;a.data.forEach((function(e,t){e.id==n&&(o=e,r=t)})),null!=o&&(o.state&&a.delete_file_arc(i),a.data.splice(r,1)),a.validateRemove(!0)}))}d(),s.find(".preload").click((function(e){d(),s.find(".error").hide(),s.find(".cont").show(),r=0,s.find(".progress-bar").width(r+"%").html(r+"%")}))}}updateItemFile(e){let t=$(e).attr("data-id"),n=null;this.data.forEach((function(e,i){e.id==parseInt(t)&&(n=i)})),this.data[n].name=this.modalEdit.find("input[name=name]").val(),this.data[n].description=this.modalEdit.find("textarea[name=description]").val(),this.authorAutocomplete.selectedItems[0]&&(this.data[n].author.id=this.authorAutocomplete.selectedItems[0].id,this.data[n].author.name=this.authorAutocomplete.selectedItems[0].name);let i=this.content.find(".f_"+this.data[n].id);i.find(".name").text(this.data[n].name),i.find(".description").html(""!=this.data[n].description?"<strong>Descripción: </strong> "+this.data[n].description:""),i.find(".author").html(null!=this.data[n].author.name?"<strong>Autor: </strong> "+this.data[n].author.name:""),this.actionDiv(1),this.btnSend(!1)}delete_file_arc(e){$.ajax({url:APP_URL+this.url_removeFile,type:"POST",timeout:1e5,data:{name:e,type:1,_token:$("meta[name=csrf-token]").attr("content")},error:function(){},success:function(e){}})}}class filesItem{constructor(e,t,n,i,a,o,r,s,l,d=null,c=null,u=""){this.id=e,this.state=t,this.name=n,this.name_tmp=i,this.size=a,this.ext=o,this.type=r,this.type_file=s,this.author={id:d,name:c},this.description=u,this.divIndex=l,this.name_tmp_complete=URL_S3_IMAGE+"files/images/"+i}}var file_ico={".zip":"ico_archivo.png",".rar":"ico_archivo.png",".ppt":"ico_point.png",".pptx":"ico_point.png",".pps":"ico_point.png",".doc":"ico_word.png",".docx":"ico_word.png",".accdb":"ico_acces.png",".ccdb":"ico_acces.png",".mdb":"ico_acces.png",".xlsx":"ico_excel.png",".xls":"ico_excel.png",".xlsm":"ico_excel.png",".xlsb":"ico_excel.png",".pdf":"ico_pdf.png",".PDF":"ico_pdf.png",".mp4":"ico_mp4.png"},file_name={".JPG":"Imagen",".jpg":"Imagen",".jpeg":"Imagen",".gif":"Imagen",".PNG":"Imagen",".png":"Imagen",".zip":"Archivo comprimido",".rar":"Archivo comprimido",".ppt":"Power Point",".pptx":"Power Point",".pps":"Power Point",".doc":"Documento de word",".docx":"Documento de word",".accdb":"Base datos Access",".ccdb":"Base datos Access",".mdb":"Base datos Access",".xlsx":"Documento de excel",".xls":"Documento de excel",".xlsm":"Documento de excel",".xlsb":"Documento de excel",".pdf":"Documento PDF",".PDF":"Documento PDF"};function name_ramdom(e){var t=function(){return Math.random().toString(36).substr(2)},n=new Date;return 1==e?"img_"+Date.parse(n)+"_"+t():"file_"+Date.parse(n)+"_"+t()}function file_type(e,t,n){var i=new Array(".JPG",".jpg",".jpeg",".gif",".PNG",".png"),a=new Array(".zip",".rar",".ppt",".pptx",".ppsx",".pps",".doc",".docx",".accdb",".ccdb",".mdb",".xlsx",".xls",".xlsm",".xlsb",".pdf",".PDF",".mp4");return jQuery.inArray(e,i)>=0?1:jQuery.inArray(e,a)>=0&&1==t?2:(notify(null,"No permitido",'El archivo "'+n+'" no esta dentro de los formatos permitidos.',1),0)}function TypeFile(e){var t=new Array(".JPG",".jpg",".jpeg",".gif",".PNG",".png"),n=new Array(".zip",".rar",".ppt",".pptx",".ppsx",".pps",".doc",".docx",".accdb",".ccdb",".mdb",".xlsx",".xls",".xlsm",".xlsb",".pdf",".PDF");return jQuery.inArray(e,t)>=0?1:jQuery.inArray(e,n)>=0?2:0}function file_size(e,t,n){return e<=1e6*t?1:(notify(null,"Supero el Tamaño",'El archivo "'+n+'" excedió el peso permitido.',1),0)}function add_file(e,t,n,i=""){var a="."+t.divIndex;e.listFiles.append(`<li data-id="0" data-state="0" data-name="${t.name_tmp}" class="${t.divIndex} item-list ui-state-default"></li>`),e.template.clone().prependTo(a).show();var o=e.content.find("."+t.divIndex);if(o.find(".error").hide(),o.find(".download").hide(),o.children().attr("id","template"),o.attr("data-id",t.id),o.find(".name").text(t.name),o.find(".source").text(t.name_tmp),o.find(".description").html(""!=t.description?"<strong>Descripción: </strong> "+t.description:""),o.find(".author").html(null!=t.author.name?"<strong>Autor: </strong> "+t.author.name:""),o.find(".name").attr("title",t.name),o.find(".delete").attr("data-id",t.id),1==n){var r=new FileReader;r.onload=function(e){$(a+" .image").css("background-image","url("+e.target.result+")"),$(a+" .image").css("background-size","100%")},r.readAsDataURL(i)}else 2==n?(o.find(".download").attr("onclick","getFileS3('"+t.name_tmp+"', 2)"),$(a+" .image").css("background-image","url("+e.awsBase+"app/file_types/"+file_ico[t.ext]+")")):3==n?(o.find(".image").css("background-image","url("+e.files_url+"thumbnails/"+t.name_tmp+")"),o.find(".image").css("background-size","100%")):4==n&&(o.find(".download").show(),o.find(".download").attr("onclick","getFileS3('"+t.name_tmp+"', 2)"),o.find(".image").css("background-image","url("+e.awsBase+"app/file_types/"+file_ico[t.ext]+")"));o.find(".progress").hide(),4!=n&&3!=n||o.find(".btn-delete").click((function(t){t.preventDefault();let n=o.data("id");o.data("name");o.remove(),e.data.forEach((function(t,i,a){t.id==n&&e.data.splice(i,1)})),e.dataDelete.push(n),e.validateRemove(!0)})),o.find(".btn-edit").click((function(t){t.preventDefault();let n=o.data("id"),i=[];e.data.forEach((function(e){e.id==n&&(i=e)})),e.modalEdit.find("input[name=name]").val(i.name),e.modalEdit.find("textarea[name=description]").val(i.description),e.content.find(".btn-edit-save").attr("data-id",i.id),e.authorAutocomplete.clearSelect(),0!=i.author.id&&null!=i.author.id&&e.authorAutocomplete.eventAddDataSelected({id:i.author.id,name:i.author.name}),e.actionDiv(2)}))}!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,(function(){"use strict";var e,t;function n(){return e.apply(null,arguments)}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e){return void 0===e}function r(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){for(var n in t)d(t,n)&&(e[n]=t[n]);return d(t,"toString")&&(e.toString=t.toString),d(t,"valueOf")&&(e.valueOf=t.valueOf),e}function u(e,t,n,i){return xt(e,t,n,i,!0).utc()}function h(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function f(e){if(null==e._isValid){var n=h(e),i=t.call(n.parsedDateParts,(function(e){return null!=e})),a=!isNaN(e._d.getTime())&&n.overflow<0&&!n.empty&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&i);if(e._strict&&(a=a&&0===n.charsLeftOver&&0===n.unusedTokens.length&&void 0===n.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return a;e._isValid=a}return e._isValid}function m(e){var t=u(NaN);return null!=e?c(h(t),e):h(t).userInvalidated=!0,t}t=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var p=n.momentProperties=[];function g(e,t){var n,i,a;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=h(t)),o(t._locale)||(e._locale=t._locale),p.length>0)for(n=0;n<p.length;n++)o(a=t[i=p[n]])||(e[i]=a);return e}var v=!1;function y(e){g(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,n.updateOffset(this),v=!1)}function w(e){return e instanceof y||null!=e&&null!=e._isAMomentObject}function _(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function b(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=_(t)),n}function x(e,t,n){var i,a=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),r=0;for(i=0;i<a;i++)(n&&e[i]!==t[i]||!n&&b(e[i])!==b(t[i]))&&r++;return r+o}function D(e){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function M(e,t){var i=!0;return c((function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),i){for(var a,o=[],r=0;r<arguments.length;r++){if(a="","object"==typeof arguments[r]){for(var s in a+="\n["+r+"] ",arguments[0])a+=s+": "+arguments[0][s]+", ";a=a.slice(0,-2)}else a=arguments[r];o.push(a)}D(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),i=!1}return t.apply(this,arguments)}),t)}var C,k={};function S(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),k[e]||(D(t),k[e]=!0)}function T(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function I(e,t){var n,i=c({},e);for(n in t)d(t,n)&&(a(e[n])&&a(t[n])?(i[n]={},c(i[n],e[n]),c(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)d(e,n)&&!d(t,n)&&a(e[n])&&(i[n]=c({},i[n]));return i}function E(e){null!=e&&this.set(e)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,C=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)d(e,t)&&n.push(t);return n};var F={};function O(e,t){var n=e.toLowerCase();F[n]=F[n+"s"]=F[t]=e}function A(e){return"string"==typeof e?F[e]||F[e.toLowerCase()]:void 0}function P(e){var t,n,i={};for(n in e)d(e,n)&&(t=A(n))&&(i[t]=e[n]);return i}var L={};function Y(e,t){L[e]=t}function N(e,t,n){var i=""+Math.abs(e),a=t-i.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+i}var R=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,H=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,$={},U={};function j(e,t,n,i){var a=i;"string"==typeof i&&(a=function(){return this[i]()}),e&&(U[e]=a),t&&(U[t[0]]=function(){return N(a.apply(this,arguments),t[1],t[2])}),n&&(U[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function W(e,t){return e.isValid()?(t=z(t,e.localeData()),$[t]=$[t]||function(e){var t,n,i,a=e.match(R);for(t=0,n=a.length;t<n;t++)U[a[t]]?a[t]=U[a[t]]:a[t]=(i=a[t]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(t){var i,o="";for(i=0;i<n;i++)o+=T(a[i])?a[i].call(t,e):a[i];return o}}(t),$[t](e)):e.localeData().invalidDate()}function z(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(H.lastIndex=0;n>=0&&H.test(e);)e=e.replace(H,i),H.lastIndex=0,n-=1;return e}var G=/\d/,V=/\d\d/,Z=/\d{3}/,B=/\d{4}/,q=/[+-]?\d{6}/,K=/\d\d?/,J=/\d\d\d\d?/,Q=/\d\d\d\d\d\d?/,X=/\d{1,3}/,ee=/\d{1,4}/,te=/[+-]?\d{1,6}/,ne=/\d+/,ie=/[+-]?\d+/,ae=/Z|[+-]\d\d:?\d\d/gi,oe=/Z|[+-]\d\d(?::?\d\d)?/gi,re=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,se={};function le(e,t,n){se[e]=T(t)?t:function(e,i){return e&&n?n:t}}function de(e,t){return d(se,e)?se[e](t._strict,t._locale):new RegExp(ce(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,i,a){return t||n||i||a}))))}function ce(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ue={};function he(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),r(t)&&(i=function(e,n){n[t]=b(e)}),n=0;n<e.length;n++)ue[e[n]]=i}function fe(e,t){he(e,(function(e,n,i,a){i._w=i._w||{},t(e,i._w,i,a)}))}function me(e,t,n){null!=t&&d(ue,e)&&ue[e](t,n._a,n,e)}function pe(e){return ge(e)?366:365}function ge(e){return e%4==0&&e%100!=0||e%400==0}j("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),j(0,["YY",2],0,(function(){return this.year()%100})),j(0,["YYYY",4],0,"year"),j(0,["YYYYY",5],0,"year"),j(0,["YYYYYY",6,!0],0,"year"),O("year","y"),Y("year",1),le("Y",ie),le("YY",K,V),le("YYYY",ee,B),le("YYYYY",te,q),le("YYYYYY",te,q),he(["YYYYY","YYYYYY"],0),he("YYYY",(function(e,t){t[0]=2===e.length?n.parseTwoDigitYear(e):b(e)})),he("YY",(function(e,t){t[0]=n.parseTwoDigitYear(e)})),he("Y",(function(e,t){t[0]=parseInt(e,10)})),n.parseTwoDigitYear=function(e){return b(e)+(b(e)>68?1900:2e3)};var ve,ye=we("FullYear",!0);function we(e,t){return function(i){return null!=i?(be(this,e,i),n.updateOffset(this,t),this):_e(this,e)}}function _e(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function be(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ge(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),xe(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function xe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,i=(t%(n=12)+n)%n;return e+=(t-i)/12,1===i?ge(e)?29:28:31-i%7%2}ve=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},j("M",["MM",2],"Mo",(function(){return this.month()+1})),j("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),j("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),O("month","M"),Y("month",8),le("M",K),le("MM",K,V),le("MMM",(function(e,t){return t.monthsShortRegex(e)})),le("MMMM",(function(e,t){return t.monthsRegex(e)})),he(["M","MM"],(function(e,t){t[1]=b(e)-1})),he(["MMM","MMMM"],(function(e,t,n,i){var a=n._locale.monthsParse(e,i,n._strict);null!=a?t[1]=a:h(n).invalidMonth=e}));var De=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Me="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var Ce="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function ke(e,t,n){var i,a,o,r=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=u([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(a=ve.call(this._shortMonthsParse,r))?a:null:-1!==(a=ve.call(this._longMonthsParse,r))?a:null:"MMM"===t?-1!==(a=ve.call(this._shortMonthsParse,r))||-1!==(a=ve.call(this._longMonthsParse,r))?a:null:-1!==(a=ve.call(this._longMonthsParse,r))||-1!==(a=ve.call(this._shortMonthsParse,r))?a:null}function Se(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=b(t);else if(!r(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),xe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Te(e){return null!=e?(Se(this,e),n.updateOffset(this,!0),this):_e(this,"Month")}var Ie=re;var Ee=re;function Fe(){function e(e,t){return t.length-e.length}var t,n,i=[],a=[],o=[];for(t=0;t<12;t++)n=u([2e3,t]),i.push(this.monthsShort(n,"")),a.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(e),a.sort(e),o.sort(e),t=0;t<12;t++)i[t]=ce(i[t]),a[t]=ce(a[t]);for(t=0;t<24;t++)o[t]=ce(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Oe(e,t,n,i,a,o,r){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,i,a,o,r),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,i,a,o,r),s}function Ae(e){var t;if(e<100&&e>=0){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function Pe(e,t,n){var i=7+t-n;return-((7+Ae(e,0,i).getUTCDay()-t)%7)+i-1}function Le(e,t,n,i,a){var o,r,s=1+7*(t-1)+(7+n-i)%7+Pe(e,i,a);return s<=0?r=pe(o=e-1)+s:s>pe(e)?(o=e+1,r=s-pe(e)):(o=e,r=s),{year:o,dayOfYear:r}}function Ye(e,t,n){var i,a,o=Pe(e.year(),t,n),r=Math.floor((e.dayOfYear()-o-1)/7)+1;return r<1?i=r+Ne(a=e.year()-1,t,n):r>Ne(e.year(),t,n)?(i=r-Ne(e.year(),t,n),a=e.year()+1):(a=e.year(),i=r),{week:i,year:a}}function Ne(e,t,n){var i=Pe(e,t,n),a=Pe(e+1,t,n);return(pe(e)-i+a)/7}j("w",["ww",2],"wo","week"),j("W",["WW",2],"Wo","isoWeek"),O("week","w"),O("isoWeek","W"),Y("week",5),Y("isoWeek",5),le("w",K),le("ww",K,V),le("W",K),le("WW",K,V),fe(["w","ww","W","WW"],(function(e,t,n,i){t[i.substr(0,1)]=b(e)}));function Re(e,t){return e.slice(t,7).concat(e.slice(0,t))}j("d",0,"do","day"),j("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),j("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),j("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),j("e",0,0,"weekday"),j("E",0,0,"isoWeekday"),O("day","d"),O("weekday","e"),O("isoWeekday","E"),Y("day",11),Y("weekday",11),Y("isoWeekday",11),le("d",K),le("e",K),le("E",K),le("dd",(function(e,t){return t.weekdaysMinRegex(e)})),le("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),le("dddd",(function(e,t){return t.weekdaysRegex(e)})),fe(["dd","ddd","dddd"],(function(e,t,n,i){var a=n._locale.weekdaysParse(e,i,n._strict);null!=a?t.d=a:h(n).invalidWeekday=e})),fe(["d","e","E"],(function(e,t,n,i){t[i]=b(e)}));var He="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var $e="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var Ue="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function je(e,t,n){var i,a,o,r=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=u([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(a=ve.call(this._weekdaysParse,r))?a:null:"ddd"===t?-1!==(a=ve.call(this._shortWeekdaysParse,r))?a:null:-1!==(a=ve.call(this._minWeekdaysParse,r))?a:null:"dddd"===t?-1!==(a=ve.call(this._weekdaysParse,r))||-1!==(a=ve.call(this._shortWeekdaysParse,r))||-1!==(a=ve.call(this._minWeekdaysParse,r))?a:null:"ddd"===t?-1!==(a=ve.call(this._shortWeekdaysParse,r))||-1!==(a=ve.call(this._weekdaysParse,r))||-1!==(a=ve.call(this._minWeekdaysParse,r))?a:null:-1!==(a=ve.call(this._minWeekdaysParse,r))||-1!==(a=ve.call(this._weekdaysParse,r))||-1!==(a=ve.call(this._shortWeekdaysParse,r))?a:null}var We=re;var ze=re;var Ge=re;function Ve(){function e(e,t){return t.length-e.length}var t,n,i,a,o,r=[],s=[],l=[],d=[];for(t=0;t<7;t++)n=u([2e3,1]).day(t),i=this.weekdaysMin(n,""),a=this.weekdaysShort(n,""),o=this.weekdays(n,""),r.push(i),s.push(a),l.push(o),d.push(i),d.push(a),d.push(o);for(r.sort(e),s.sort(e),l.sort(e),d.sort(e),t=0;t<7;t++)s[t]=ce(s[t]),l[t]=ce(l[t]),d[t]=ce(d[t]);this._weekdaysRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Ze(){return this.hours()%12||12}function Be(e,t){j(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function qe(e,t){return t._meridiemParse}j("H",["HH",2],0,"hour"),j("h",["hh",2],0,Ze),j("k",["kk",2],0,(function(){return this.hours()||24})),j("hmm",0,0,(function(){return""+Ze.apply(this)+N(this.minutes(),2)})),j("hmmss",0,0,(function(){return""+Ze.apply(this)+N(this.minutes(),2)+N(this.seconds(),2)})),j("Hmm",0,0,(function(){return""+this.hours()+N(this.minutes(),2)})),j("Hmmss",0,0,(function(){return""+this.hours()+N(this.minutes(),2)+N(this.seconds(),2)})),Be("a",!0),Be("A",!1),O("hour","h"),Y("hour",13),le("a",qe),le("A",qe),le("H",K),le("h",K),le("k",K),le("HH",K,V),le("hh",K,V),le("kk",K,V),le("hmm",J),le("hmmss",Q),le("Hmm",J),le("Hmmss",Q),he(["H","HH"],3),he(["k","kk"],(function(e,t,n){var i=b(e);t[3]=24===i?0:i})),he(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),he(["h","hh"],(function(e,t,n){t[3]=b(e),h(n).bigHour=!0})),he("hmm",(function(e,t,n){var i=e.length-2;t[3]=b(e.substr(0,i)),t[4]=b(e.substr(i)),h(n).bigHour=!0})),he("hmmss",(function(e,t,n){var i=e.length-4,a=e.length-2;t[3]=b(e.substr(0,i)),t[4]=b(e.substr(i,2)),t[5]=b(e.substr(a)),h(n).bigHour=!0})),he("Hmm",(function(e,t,n){var i=e.length-2;t[3]=b(e.substr(0,i)),t[4]=b(e.substr(i))})),he("Hmmss",(function(e,t,n){var i=e.length-4,a=e.length-2;t[3]=b(e.substr(0,i)),t[4]=b(e.substr(i,2)),t[5]=b(e.substr(a))}));var Ke,Je=we("Hours",!0),Qe={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Me,monthsShort:Ce,week:{dow:0,doy:6},weekdays:He,weekdaysMin:Ue,weekdaysShort:$e,meridiemParse:/[ap]\.?m?\.?/i},Xe={},et={};function tt(e){return e?e.toLowerCase().replace("_","-"):e}function nt(e){var t=null;if(!Xe[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Ke._abbr,require("./locale/"+e),it(t)}catch(e){}return Xe[e]}function it(e,t){var n;return e&&((n=o(t)?ot(e):at(e,t))?Ke=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Ke._abbr}function at(e,t){if(null!==t){var n,i=Qe;if(t.abbr=e,null!=Xe[e])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Xe[e]._config;else if(null!=t.parentLocale)if(null!=Xe[t.parentLocale])i=Xe[t.parentLocale]._config;else{if(null==(n=nt(t.parentLocale)))return et[t.parentLocale]||(et[t.parentLocale]=[]),et[t.parentLocale].push({name:e,config:t}),null;i=n._config}return Xe[e]=new E(I(i,t)),et[e]&&et[e].forEach((function(e){at(e.name,e.config)})),it(e),Xe[e]}return delete Xe[e],null}function ot(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ke;if(!i(e)){if(t=nt(e))return t;e=[e]}return function(e){for(var t,n,i,a,o=0;o<e.length;){for(t=(a=tt(e[o]).split("-")).length,n=(n=tt(e[o+1]))?n.split("-"):null;t>0;){if(i=nt(a.slice(0,t).join("-")))return i;if(n&&n.length>=t&&x(a,n,!0)>=t-1)break;t--}o++}return Ke}(e)}function rt(e){var t,n=e._a;return n&&-2===h(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>xe(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,h(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),h(e)._overflowWeeks&&-1===t&&(t=7),h(e)._overflowWeekday&&-1===t&&(t=8),h(e).overflow=t),e}function st(e,t,n){return null!=e?e:null!=t?t:n}function lt(e){var t,i,a,o,r,s=[];if(!e._d){for(a=function(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,i,a,o,r,s,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,r=4,n=st(t.GG,e._a[0],Ye(Dt(),1,4).year),i=st(t.W,1),((a=st(t.E,1))<1||a>7)&&(l=!0);else{o=e._locale._week.dow,r=e._locale._week.doy;var d=Ye(Dt(),o,r);n=st(t.gg,e._a[0],d.year),i=st(t.w,d.week),null!=t.d?((a=t.d)<0||a>6)&&(l=!0):null!=t.e?(a=t.e+o,(t.e<0||t.e>6)&&(l=!0)):a=o}i<1||i>Ne(n,o,r)?h(e)._overflowWeeks=!0:null!=l?h(e)._overflowWeekday=!0:(s=Le(n,i,a,o,r),e._a[0]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(r=st(e._a[0],a[0]),(e._dayOfYear>pe(r)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),i=Ae(r,0,e._dayOfYear),e._a[1]=i.getUTCMonth(),e._a[2]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=a[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Ae:Oe).apply(null,s),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(h(e).weekdayMismatch=!0)}}var dt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ct=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ut=/Z|[+-]\d\d(?::?\d\d)?/,ht=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ft=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],mt=/^\/?Date\((\-?\d+)/i;function pt(e){var t,n,i,a,o,r,s=e._i,l=dt.exec(s)||ct.exec(s);if(l){for(h(e).iso=!0,t=0,n=ht.length;t<n;t++)if(ht[t][1].exec(l[1])){a=ht[t][0],i=!1!==ht[t][2];break}if(null==a)return void(e._isValid=!1);if(l[3]){for(t=0,n=ft.length;t<n;t++)if(ft[t][1].exec(l[3])){o=(l[2]||" ")+ft[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(l[4]){if(!ut.exec(l[4]))return void(e._isValid=!1);r="Z"}e._f=a+(o||"")+(r||""),_t(e)}else e._isValid=!1}var gt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function vt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}var yt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function wt(e){var t,n,i,a,o,r,s,l=gt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(l){var d=(t=l[4],n=l[3],i=l[2],a=l[5],o=l[6],r=l[7],s=[vt(t),Ce.indexOf(n),parseInt(i,10),parseInt(a,10),parseInt(o,10)],r&&s.push(parseInt(r,10)),s);if(!function(e,t,n){return!e||$e.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(h(n).weekdayMismatch=!0,n._isValid=!1,!1)}(l[1],d,e))return;e._a=d,e._tzm=function(e,t,n){if(e)return yt[e];if(t)return 0;var i=parseInt(n,10),a=i%100;return(i-a)/100*60+a}(l[8],l[9],l[10]),e._d=Ae.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),h(e).rfc2822=!0}else e._isValid=!1}function _t(e){if(e._f!==n.ISO_8601)if(e._f!==n.RFC_2822){e._a=[],h(e).empty=!0;var t,i,a,o,r,s=""+e._i,l=s.length,d=0;for(a=z(e._f,e._locale).match(R)||[],t=0;t<a.length;t++)o=a[t],(i=(s.match(de(o,e))||[])[0])&&((r=s.substr(0,s.indexOf(i))).length>0&&h(e).unusedInput.push(r),s=s.slice(s.indexOf(i)+i.length),d+=i.length),U[o]?(i?h(e).empty=!1:h(e).unusedTokens.push(o),me(o,i,e)):e._strict&&!i&&h(e).unusedTokens.push(o);h(e).charsLeftOver=l-d,s.length>0&&h(e).unusedInput.push(s),e._a[3]<=12&&!0===h(e).bigHour&&e._a[3]>0&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var i;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((i=e.isPM(n))&&t<12&&(t+=12),i||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),lt(e),rt(e)}else wt(e);else pt(e)}function bt(e){var t=e._i,d=e._f;return e._locale=e._locale||ot(e._l),null===t||void 0===d&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),w(t)?new y(rt(t)):(s(t)?e._d=t:i(d)?function(e){var t,n,i,a,o;if(0===e._f.length)return h(e).invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<e._f.length;a++)o=0,t=g({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[a],_t(t),f(t)&&(o+=h(t).charsLeftOver,o+=10*h(t).unusedTokens.length,h(t).score=o,(null==i||o<i)&&(i=o,n=t));c(e,n||t)}(e):d?_t(e):function(e){var t=e._i;o(t)?e._d=new Date(n.now()):s(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=mt.exec(e._i);null===t?(pt(e),!1===e._isValid&&(delete e._isValid,wt(e),!1===e._isValid&&(delete e._isValid,n.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):i(t)?(e._a=l(t.slice(0),(function(e){return parseInt(e,10)})),lt(e)):a(t)?function(e){if(!e._d){var t=P(e._i);e._a=l([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),lt(e)}}(e):r(t)?e._d=new Date(t):n.createFromInputFallback(e)}(e),f(e)||(e._d=null),e))}function xt(e,t,n,o,r){var s,l={};return!0!==n&&!1!==n||(o=n,n=void 0),(a(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||i(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=r,l._l=n,l._i=e,l._f=t,l._strict=o,(s=new y(rt(bt(l))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function Dt(e,t,n,i){return xt(e,t,n,i,!1)}n.createFromInputFallback=M("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),n.ISO_8601=function(){},n.RFC_2822=function(){};var Mt=M("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Dt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()})),Ct=M("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Dt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}));function kt(e,t){var n,a;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return Dt();for(n=t[0],a=1;a<t.length;++a)t[a].isValid()&&!t[a][e](n)||(n=t[a]);return n}var St=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Tt(e){var t=P(e),n=t.year||0,i=t.quarter||0,a=t.month||0,o=t.week||t.isoWeek||0,r=t.day||0,s=t.hour||0,l=t.minute||0,d=t.second||0,c=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===ve.call(St,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,i=0;i<St.length;++i)if(e[St[i]]){if(n)return!1;parseFloat(e[St[i]])!==b(e[St[i]])&&(n=!0)}return!0}(t),this._milliseconds=+c+1e3*d+6e4*l+1e3*s*60*60,this._days=+r+7*o,this._months=+a+3*i+12*n,this._data={},this._locale=ot(),this._bubble()}function It(e){return e instanceof Tt}function Et(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ft(e,t){j(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+N(~~(e/60),2)+t+N(~~e%60,2)}))}Ft("Z",":"),Ft("ZZ",""),le("Z",oe),le("ZZ",oe),he(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=At(oe,e)}));var Ot=/([\+\-]|\d\d)/gi;function At(e,t){var n=(t||"").match(e);if(null===n)return null;var i=((n[n.length-1]||[])+"").match(Ot)||["-",0,0],a=60*i[1]+b(i[2]);return 0===a?0:"+"===i[0]?a:-a}function Pt(e,t){var i,a;return t._isUTC?(i=t.clone(),a=(w(e)||s(e)?e.valueOf():Dt(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+a),n.updateOffset(i,!1),i):Dt(e).local()}function Lt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Yt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}n.updateOffset=function(){};var Nt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Rt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ht(e,t){var n,i,a,o=e,s=null;return It(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:r(e)?(o={},t?o[t]=e:o.milliseconds=e):(s=Nt.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:b(s[2])*n,h:b(s[3])*n,m:b(s[4])*n,s:b(s[5])*n,ms:b(Et(1e3*s[6]))*n}):(s=Rt.exec(e))?(n="-"===s[1]?-1:1,o={y:$t(s[2],n),M:$t(s[3],n),w:$t(s[4],n),d:$t(s[5],n),h:$t(s[6],n),m:$t(s[7],n),s:$t(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(a=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Pt(t,e),e.isBefore(t)?n=Ut(e,t):((n=Ut(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(Dt(o.from),Dt(o.to)),(o={}).ms=a.milliseconds,o.M=a.months),i=new Tt(o),It(e)&&d(e,"_locale")&&(i._locale=e._locale),i}function $t(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ut(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function jt(e,t){return function(n,i){var a;return null===i||isNaN(+i)||(S(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=i,i=a),Wt(this,Ht(n="string"==typeof n?+n:n,i),e),this}}function Wt(e,t,i,a){var o=t._milliseconds,r=Et(t._days),s=Et(t._months);e.isValid()&&(a=null==a||a,s&&Se(e,_e(e,"Month")+s*i),r&&be(e,"Date",_e(e,"Date")+r*i),o&&e._d.setTime(e._d.valueOf()+o*i),a&&n.updateOffset(e,r||s))}Ht.fn=Tt.prototype,Ht.invalid=function(){return Ht(NaN)};var zt=jt(1,"add"),Gt=jt(-1,"subtract");function Vt(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months");return-(n+(t-i<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(n+1,"months")-i)))||0}function Zt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ot(e))&&(this._locale=t),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Bt=M("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function qt(){return this._locale}var Kt=1e3,Jt=6e4,Qt=36e5,Xt=126227808e5;function en(e,t){return(e%t+t)%t}function tn(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-Xt:new Date(e,t,n).valueOf()}function nn(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-Xt:Date.UTC(e,t,n)}function an(e,t){j(0,[e,e.length],0,t)}function on(e,t,n,i,a){var o;return null==e?Ye(this,i,a).year:(t>(o=Ne(e,i,a))&&(t=o),rn.call(this,e,t,n,i,a))}function rn(e,t,n,i,a){var o=Le(e,t,n,i,a),r=Ae(o.year,0,o.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}j(0,["gg",2],0,(function(){return this.weekYear()%100})),j(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),an("gggg","weekYear"),an("ggggg","weekYear"),an("GGGG","isoWeekYear"),an("GGGGG","isoWeekYear"),O("weekYear","gg"),O("isoWeekYear","GG"),Y("weekYear",1),Y("isoWeekYear",1),le("G",ie),le("g",ie),le("GG",K,V),le("gg",K,V),le("GGGG",ee,B),le("gggg",ee,B),le("GGGGG",te,q),le("ggggg",te,q),fe(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,i){t[i.substr(0,2)]=b(e)})),fe(["gg","GG"],(function(e,t,i,a){t[a]=n.parseTwoDigitYear(e)})),j("Q",0,"Qo","quarter"),O("quarter","Q"),Y("quarter",7),le("Q",G),he("Q",(function(e,t){t[1]=3*(b(e)-1)})),j("D",["DD",2],"Do","date"),O("date","D"),Y("date",9),le("D",K),le("DD",K,V),le("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),he(["D","DD"],2),he("Do",(function(e,t){t[2]=b(e.match(K)[0])}));var sn=we("Date",!0);j("DDD",["DDDD",3],"DDDo","dayOfYear"),O("dayOfYear","DDD"),Y("dayOfYear",4),le("DDD",X),le("DDDD",Z),he(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=b(e)})),j("m",["mm",2],0,"minute"),O("minute","m"),Y("minute",14),le("m",K),le("mm",K,V),he(["m","mm"],4);var ln=we("Minutes",!1);j("s",["ss",2],0,"second"),O("second","s"),Y("second",15),le("s",K),le("ss",K,V),he(["s","ss"],5);var dn,cn=we("Seconds",!1);for(j("S",0,0,(function(){return~~(this.millisecond()/100)})),j(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),j(0,["SSS",3],0,"millisecond"),j(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),j(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),j(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),j(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),j(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),j(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),O("millisecond","ms"),Y("millisecond",16),le("S",X,G),le("SS",X,V),le("SSS",X,Z),dn="SSSS";dn.length<=9;dn+="S")le(dn,ne);function un(e,t){t[6]=b(1e3*("0."+e))}for(dn="S";dn.length<=9;dn+="S")he(dn,un);var hn=we("Milliseconds",!1);j("z",0,0,"zoneAbbr"),j("zz",0,0,"zoneName");var fn=y.prototype;function mn(e){return e}fn.add=zt,fn.calendar=function(e,t){var i=e||Dt(),a=Pt(i,this).startOf("day"),o=n.calendarFormat(this,a)||"sameElse",r=t&&(T(t[o])?t[o].call(this,i):t[o]);return this.format(r||this.localeData().calendar(o,this,Dt(i)))},fn.clone=function(){return new y(this)},fn.diff=function(e,t,n){var i,a,o;if(!this.isValid())return NaN;if(!(i=Pt(e,this)).isValid())return NaN;switch(a=6e4*(i.utcOffset()-this.utcOffset()),t=A(t)){case"year":o=Vt(this,i)/12;break;case"month":o=Vt(this,i);break;case"quarter":o=Vt(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-a)/864e5;break;case"week":o=(this-i-a)/6048e5;break;default:o=this-i}return n?o:_(o)},fn.endOf=function(e){var t;if(void 0===(e=A(e))||"millisecond"===e||!this.isValid())return this;var i=this._isUTC?nn:tn;switch(e){case"year":t=i(this.year()+1,0,1)-1;break;case"quarter":t=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=i(this.year(),this.month()+1,1)-1;break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Qt-en(t+(this._isUTC?0:this.utcOffset()*Jt),Qt)-1;break;case"minute":t=this._d.valueOf(),t+=Jt-en(t,Jt)-1;break;case"second":t=this._d.valueOf(),t+=Kt-en(t,Kt)-1}return this._d.setTime(t),n.updateOffset(this,!0),this},fn.format=function(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=W(this,e);return this.localeData().postformat(t)},fn.from=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||Dt(e).isValid())?Ht({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},fn.fromNow=function(e){return this.from(Dt(),e)},fn.to=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||Dt(e).isValid())?Ht({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},fn.toNow=function(e){return this.to(Dt(),e)},fn.get=function(e){return T(this[e=A(e)])?this[e]():this},fn.invalidAt=function(){return h(this).overflow},fn.isAfter=function(e,t){var n=w(e)?e:Dt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=A(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},fn.isBefore=function(e,t){var n=w(e)?e:Dt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=A(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},fn.isBetween=function(e,t,n,i){var a=w(e)?e:Dt(e),o=w(t)?t:Dt(t);return!!(this.isValid()&&a.isValid()&&o.isValid())&&(("("===(i=i||"()")[0]?this.isAfter(a,n):!this.isBefore(a,n))&&(")"===i[1]?this.isBefore(o,n):!this.isAfter(o,n)))},fn.isSame=function(e,t){var n,i=w(e)?e:Dt(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=A(t)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},fn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},fn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},fn.isValid=function(){return f(this)},fn.lang=Bt,fn.locale=Zt,fn.localeData=qt,fn.max=Ct,fn.min=Mt,fn.parsingFlags=function(){return c({},h(this))},fn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:L[n]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=P(e)),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit]);else if(T(this[e=A(e)]))return this[e](t);return this},fn.startOf=function(e){var t;if(void 0===(e=A(e))||"millisecond"===e||!this.isValid())return this;var i=this._isUTC?nn:tn;switch(e){case"year":t=i(this.year(),0,1);break;case"quarter":t=i(this.year(),this.month()-this.month()%3,1);break;case"month":t=i(this.year(),this.month(),1);break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=i(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=en(t+(this._isUTC?0:this.utcOffset()*Jt),Qt);break;case"minute":t=this._d.valueOf(),t-=en(t,Jt);break;case"second":t=this._d.valueOf(),t-=en(t,Kt)}return this._d.setTime(t),n.updateOffset(this,!0),this},fn.subtract=Gt,fn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},fn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},fn.toDate=function(){return new Date(this.valueOf())},fn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?W(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):T(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",W(n,"Z")):W(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},fn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a=t+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+a)},fn.toJSON=function(){return this.isValid()?this.toISOString():null},fn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},fn.unix=function(){return Math.floor(this.valueOf()/1e3)},fn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},fn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},fn.year=ye,fn.isLeapYear=function(){return ge(this.year())},fn.weekYear=function(e){return on.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},fn.isoWeekYear=function(e){return on.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},fn.quarter=fn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},fn.month=Te,fn.daysInMonth=function(){return xe(this.year(),this.month())},fn.week=fn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},fn.isoWeek=fn.isoWeeks=function(e){var t=Ye(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},fn.weeksInYear=function(){var e=this.localeData()._week;return Ne(this.year(),e.dow,e.doy)},fn.isoWeeksInYear=function(){return Ne(this.year(),1,4)},fn.date=sn,fn.day=fn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},fn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},fn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},fn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},fn.hour=fn.hours=Je,fn.minute=fn.minutes=ln,fn.second=fn.seconds=cn,fn.millisecond=fn.milliseconds=hn,fn.utcOffset=function(e,t,i){var a,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=At(oe,e)))return this}else Math.abs(e)<16&&!i&&(e*=60);return!this._isUTC&&t&&(a=Lt(this)),this._offset=e,this._isUTC=!0,null!=a&&this.add(a,"m"),o!==e&&(!t||this._changeInProgress?Wt(this,Ht(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Lt(this)},fn.utc=function(e){return this.utcOffset(0,e)},fn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Lt(this),"m")),this},fn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=At(ae,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},fn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Dt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},fn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},fn.isLocal=function(){return!!this.isValid()&&!this._isUTC},fn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},fn.isUtc=Yt,fn.isUTC=Yt,fn.zoneAbbr=function(){return this._isUTC?"UTC":""},fn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},fn.dates=M("dates accessor is deprecated. Use date instead.",sn),fn.months=M("months accessor is deprecated. Use month instead",Te),fn.years=M("years accessor is deprecated. Use year instead",ye),fn.zone=M("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),fn.isDSTShifted=M("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e={};if(g(e,this),(e=bt(e))._a){var t=e._isUTC?u(e._a):Dt(e._a);this._isDSTShifted=this.isValid()&&x(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var pn=E.prototype;function gn(e,t,n,i){var a=ot(),o=u().set(i,t);return a[n](o,e)}function vn(e,t,n){if(r(e)&&(t=e,e=void 0),e=e||"",null!=t)return gn(e,t,n,"month");var i,a=[];for(i=0;i<12;i++)a[i]=gn(e,i,n,"month");return a}function yn(e,t,n,i){"boolean"==typeof e?(r(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,r(t)&&(n=t,t=void 0),t=t||"");var a,o=ot(),s=e?o._week.dow:0;if(null!=n)return gn(t,(n+s)%7,i,"day");var l=[];for(a=0;a<7;a++)l[a]=gn(t,(a+s)%7,i,"day");return l}pn.calendar=function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return T(i)?i.call(t,n):i},pn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},pn.invalidDate=function(){return this._invalidDate},pn.ordinal=function(e){return this._ordinal.replace("%d",e)},pn.preparse=mn,pn.postformat=mn,pn.relativeTime=function(e,t,n,i){var a=this._relativeTime[n];return T(a)?a(e,t,n,i):a.replace(/%d/i,e)},pn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return T(n)?n(t):n.replace(/%s/i,t)},pn.set=function(e){var t,n;for(n in e)T(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},pn.months=function(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||De).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone},pn.monthsShort=function(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[De.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},pn.monthsParse=function(e,t,n){var i,a,o;if(this._monthsParseExact)return ke.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(a=u([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},pn.monthsRegex=function(e){return this._monthsParseExact?(d(this,"_monthsRegex")||Fe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=Ee),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},pn.monthsShortRegex=function(e){return this._monthsParseExact?(d(this,"_monthsRegex")||Fe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=Ie),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},pn.week=function(e){return Ye(e,this._week.dow,this._week.doy).week},pn.firstDayOfYear=function(){return this._week.doy},pn.firstDayOfWeek=function(){return this._week.dow},pn.weekdays=function(e,t){var n=i(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Re(n,this._week.dow):e?n[e.day()]:n},pn.weekdaysMin=function(e){return!0===e?Re(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},pn.weekdaysShort=function(e){return!0===e?Re(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},pn.weekdaysParse=function(e,t,n){var i,a,o;if(this._weekdaysParseExact)return je.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(a=u([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},pn.weekdaysRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Ve.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=We),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},pn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Ve.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ze),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},pn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Ve.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ge),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},pn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},pn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},it("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===b(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.lang=M("moment.lang is deprecated. Use moment.locale instead.",it),n.langData=M("moment.langData is deprecated. Use moment.localeData instead.",ot);var wn=Math.abs;function _n(e,t,n,i){var a=Ht(t,n);return e._milliseconds+=i*a._milliseconds,e._days+=i*a._days,e._months+=i*a._months,e._bubble()}function bn(e){return e<0?Math.floor(e):Math.ceil(e)}function xn(e){return 4800*e/146097}function Dn(e){return 146097*e/4800}function Mn(e){return function(){return this.as(e)}}var Cn=Mn("ms"),kn=Mn("s"),Sn=Mn("m"),Tn=Mn("h"),In=Mn("d"),En=Mn("w"),Fn=Mn("M"),On=Mn("Q"),An=Mn("y");function Pn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Ln=Pn("milliseconds"),Yn=Pn("seconds"),Nn=Pn("minutes"),Rn=Pn("hours"),Hn=Pn("days"),$n=Pn("months"),Un=Pn("years");var jn=Math.round,Wn={ss:44,s:45,m:45,h:22,d:26,M:11};function zn(e,t,n,i,a){return a.relativeTime(t||1,!!n,e,i)}var Gn=Math.abs;function Vn(e){return(e>0)-(e<0)||+e}function Zn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Gn(this._milliseconds)/1e3,i=Gn(this._days),a=Gn(this._months);e=_(n/60),t=_(e/60),n%=60,e%=60;var o=_(a/12),r=a%=12,s=i,l=t,d=e,c=n?n.toFixed(3).replace(/\.?0+$/,""):"",u=this.asSeconds();if(!u)return"P0D";var h=u<0?"-":"",f=Vn(this._months)!==Vn(u)?"-":"",m=Vn(this._days)!==Vn(u)?"-":"",p=Vn(this._milliseconds)!==Vn(u)?"-":"";return h+"P"+(o?f+o+"Y":"")+(r?f+r+"M":"")+(s?m+s+"D":"")+(l||d||c?"T":"")+(l?p+l+"H":"")+(d?p+d+"M":"")+(c?p+c+"S":"")}var Bn=Tt.prototype;return Bn.isValid=function(){return this._isValid},Bn.abs=function(){var e=this._data;return this._milliseconds=wn(this._milliseconds),this._days=wn(this._days),this._months=wn(this._months),e.milliseconds=wn(e.milliseconds),e.seconds=wn(e.seconds),e.minutes=wn(e.minutes),e.hours=wn(e.hours),e.months=wn(e.months),e.years=wn(e.years),this},Bn.add=function(e,t){return _n(this,e,t,1)},Bn.subtract=function(e,t){return _n(this,e,t,-1)},Bn.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=A(e))||"quarter"===e||"year"===e)switch(t=this._days+i/864e5,n=this._months+xn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Dn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},Bn.asMilliseconds=Cn,Bn.asSeconds=kn,Bn.asMinutes=Sn,Bn.asHours=Tn,Bn.asDays=In,Bn.asWeeks=En,Bn.asMonths=Fn,Bn.asQuarters=On,Bn.asYears=An,Bn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12):NaN},Bn._bubble=function(){var e,t,n,i,a,o=this._milliseconds,r=this._days,s=this._months,l=this._data;return o>=0&&r>=0&&s>=0||o<=0&&r<=0&&s<=0||(o+=864e5*bn(Dn(s)+r),r=0,s=0),l.milliseconds=o%1e3,e=_(o/1e3),l.seconds=e%60,t=_(e/60),l.minutes=t%60,n=_(t/60),l.hours=n%24,r+=_(n/24),s+=a=_(xn(r)),r-=bn(Dn(a)),i=_(s/12),s%=12,l.days=r,l.months=s,l.years=i,this},Bn.clone=function(){return Ht(this)},Bn.get=function(e){return e=A(e),this.isValid()?this[e+"s"]():NaN},Bn.milliseconds=Ln,Bn.seconds=Yn,Bn.minutes=Nn,Bn.hours=Rn,Bn.days=Hn,Bn.weeks=function(){return _(this.days()/7)},Bn.months=$n,Bn.years=Un,Bn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var i=Ht(e).abs(),a=jn(i.as("s")),o=jn(i.as("m")),r=jn(i.as("h")),s=jn(i.as("d")),l=jn(i.as("M")),d=jn(i.as("y")),c=a<=Wn.ss&&["s",a]||a<Wn.s&&["ss",a]||o<=1&&["m"]||o<Wn.m&&["mm",o]||r<=1&&["h"]||r<Wn.h&&["hh",r]||s<=1&&["d"]||s<Wn.d&&["dd",s]||l<=1&&["M"]||l<Wn.M&&["MM",l]||d<=1&&["y"]||["yy",d];return c[2]=t,c[3]=+e>0,c[4]=n,zn.apply(null,c)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},Bn.toISOString=Zn,Bn.toString=Zn,Bn.toJSON=Zn,Bn.locale=Zt,Bn.localeData=qt,Bn.toIsoString=M("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Zn),Bn.lang=Bt,j("X",0,0,"unix"),j("x",0,0,"valueOf"),le("x",ie),le("X",/[+-]?\d+(\.\d{1,3})?/),he("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))})),he("x",(function(e,t,n){n._d=new Date(b(e))})),n.version="2.24.0",e=Dt,n.fn=fn,n.min=function(){var e=[].slice.call(arguments,0);return kt("isBefore",e)},n.max=function(){var e=[].slice.call(arguments,0);return kt("isAfter",e)},n.now=function(){return Date.now?Date.now():+new Date},n.utc=u,n.unix=function(e){return Dt(1e3*e)},n.months=function(e,t){return vn(e,t,"months")},n.isDate=s,n.locale=it,n.invalid=m,n.duration=Ht,n.isMoment=w,n.weekdays=function(e,t,n){return yn(e,t,n,"weekdays")},n.parseZone=function(){return Dt.apply(null,arguments).parseZone()},n.localeData=ot,n.isDuration=It,n.monthsShort=function(e,t){return vn(e,t,"monthsShort")},n.weekdaysMin=function(e,t,n){return yn(e,t,n,"weekdaysMin")},n.defineLocale=at,n.updateLocale=function(e,t){if(null!=t){var n,i,a=Qe;null!=(i=nt(e))&&(a=i._config),(n=new E(t=I(a,t))).parentLocale=Xe[e],Xe[e]=n,it(e)}else null!=Xe[e]&&(null!=Xe[e].parentLocale?Xe[e]=Xe[e].parentLocale:null!=Xe[e]&&delete Xe[e]);return Xe[e]},n.locales=function(){return C(Xe)},n.weekdaysShort=function(e,t,n){return yn(e,t,n,"weekdaysShort")},n.normalizeUnits=A,n.relativeTimeRounding=function(e){return void 0===e?jn:"function"==typeof e&&(jn=e,!0)},n.relativeTimeThreshold=function(e,t){return void 0!==Wn[e]&&(void 0===t?Wn[e]:(Wn[e]=t,"s"===e&&(Wn.ss=t-1),!0))},n.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},n.prototype=fn,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).flatpickr=t()}(this,(function(){"use strict";var e=function(){return(e=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function t(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),a=0;for(t=0;t<n;t++)for(var o=arguments[t],r=0,s=o.length;r<s;r++,a++)i[a]=o[r];return i}var n=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],i={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},a={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},o=function(e,t){return void 0===t&&(t=2),("000"+e).slice(-1*t)},r=function(e){return!0===e?1:0};function s(e,t){var n;return function(){var i=this,a=arguments;clearTimeout(n),n=setTimeout((function(){return e.apply(i,a)}),t)}}var l=function(e){return e instanceof Array?e:[e]};function d(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function c(e,t,n){var i=window.document.createElement(e);return t=t||"",n=n||"",i.className=t,void 0!==n&&(i.textContent=n),i}function u(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function h(e,t){return t(e)?e:e.parentNode?h(e.parentNode,t):void 0}function f(e,t){var n=c("div","numInputWrapper"),i=c("input","numInput "+e),a=c("span","arrowUp"),o=c("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?i.type="number":(i.type="text",i.pattern="\\d*"),void 0!==t)for(var r in t)i.setAttribute(r,t[r]);return n.appendChild(i),n.appendChild(a),n.appendChild(o),n}function m(e){try{return"function"==typeof e.composedPath?e.composedPath()[0]:e.target}catch(t){return e.target}}var p=function(){},g=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},v={D:p,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*r(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t,n){var i=parseInt(t),a=new Date(e.getFullYear(),0,2+7*(i-1),0,0,0,0);return a.setDate(a.getDate()-a.getDay()+n.firstDayOfWeek),a},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:p,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:p,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},y={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},w={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[w.w(e,t,n)]},F:function(e,t,n){return g(w.n(e,t,n)-1,!1,t)},G:function(e,t,n){return o(w.h(e,t,n))},H:function(e){return o(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[r(e.getHours()>11)]},M:function(e,t){return g(e.getMonth(),!0,t)},S:function(e){return o(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return o(e.getFullYear(),4)},d:function(e){return o(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return o(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return o(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},_=function(e){var t=e.config,n=void 0===t?i:t,o=e.l10n,r=void 0===o?a:o,s=e.isMobile,l=void 0!==s&&s;return function(e,t,i){var a=i||r;return void 0===n.formatDate||l?t.split("").map((function(t,i,o){return w[t]&&"\\"!==o[i-1]?w[t](e,a,n):"\\"!==t?t:""})).join(""):n.formatDate(e,t,a)}},b=function(e){var t=e.config,n=void 0===t?i:t,o=e.l10n,r=void 0===o?a:o;return function(e,t,a,o){if(0===e||e){var s,l=o||r,d=e;if(e instanceof Date)s=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)s=new Date(e);else if("string"==typeof e){var c=t||(n||i).dateFormat,u=String(e).trim();if("today"===u)s=new Date,a=!0;else if(n&&n.parseDate)s=n.parseDate(e,c);else if(/Z$/.test(u)||/GMT$/.test(u))s=new Date(e);else{for(var h=void 0,f=[],m=0,p=0,g="";m<c.length;m++){var w=c[m],_="\\"===w,b="\\"===c[m-1]||_;if(y[w]&&!b){g+=y[w];var x=new RegExp(g).exec(e);x&&(h=!0)&&f["Y"!==w?"push":"unshift"]({fn:v[w],val:x[++p]})}else _||(g+=".")}s=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0),f.forEach((function(e){var t=e.fn,n=e.val;return s=t(s,n,l)||s})),s=h?s:void 0}}if(s instanceof Date&&!isNaN(s.getTime()))return!0===a&&s.setHours(0,0,0,0),s;n.errorHandler(new Error("Invalid date provided: "+d))}}};function x(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}var D=function(e,t,n){return 3600*e+60*t+n};function M(e){var t=e.defaultHour,n=e.defaultMinute,i=e.defaultSeconds;if(void 0!==e.minDate){var a=e.minDate.getHours(),o=e.minDate.getMinutes(),r=e.minDate.getSeconds();t<a&&(t=a),t===a&&n<o&&(n=o),t===a&&n===o&&i<r&&(i=e.minDate.getSeconds())}if(void 0!==e.maxDate){var s=e.maxDate.getHours(),l=e.maxDate.getMinutes();(t=Math.min(t,s))===s&&(n=Math.min(l,n)),t===s&&n===l&&(i=e.maxDate.getSeconds())}return{hours:t,minutes:n,seconds:i}}function C(p,v){var w={config:e(e({},i),S.defaultConfig),l10n:a};function C(){var e;return(null===(e=w.calendarContainer)||void 0===e?void 0:e.getRootNode()).activeElement||document.activeElement}function k(e){return e.bind(w)}function T(){var e=w.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==w.calendarContainer&&(w.calendarContainer.style.visibility="hidden",w.calendarContainer.style.display="block"),void 0!==w.daysContainer){var t=(w.days.offsetWidth+1)*e.showMonths;w.daysContainer.style.width=t+"px",w.calendarContainer.style.width=t+(void 0!==w.weekWrapper?w.weekWrapper.offsetWidth:0)+"px",w.calendarContainer.style.removeProperty("visibility"),w.calendarContainer.style.removeProperty("display")}}))}function I(e){if(0===w.selectedDates.length){var t=void 0===w.config.minDate||x(new Date,w.config.minDate)>=0?new Date:new Date(w.config.minDate.getTime()),n=M(w.config);t.setHours(n.hours,n.minutes,n.seconds,t.getMilliseconds()),w.selectedDates=[t],w.latestSelectedDateObj=t}void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var t="keydown"===e.type,n=m(e),i=n;void 0!==w.amPM&&n===w.amPM&&(w.amPM.textContent=w.l10n.amPM[r(w.amPM.textContent===w.l10n.amPM[0])]);var a=parseFloat(i.getAttribute("min")),s=parseFloat(i.getAttribute("max")),l=parseFloat(i.getAttribute("step")),d=parseInt(i.value,10),c=d+l*(e.delta||(t?38===e.which?1:-1:0));if(void 0!==i.value&&2===i.value.length){var u=i===w.hourElement,h=i===w.minuteElement;c<a?(c=s+c+r(!u)+(r(u)&&r(!w.amPM)),h&&R(void 0,-1,w.hourElement)):c>s&&(c=i===w.hourElement?c-s-r(!w.amPM):a,h&&R(void 0,1,w.hourElement)),w.amPM&&u&&(1===l?c+d===23:Math.abs(c-d)>l)&&(w.amPM.textContent=w.l10n.amPM[r(w.amPM.textContent===w.l10n.amPM[0])]),i.value=o(c)}}(e);var i=w._input.value;E(),xe(),w._input.value!==i&&w._debouncedChange()}function E(){if(void 0!==w.hourElement&&void 0!==w.minuteElement){var e,t,n=(parseInt(w.hourElement.value.slice(-2),10)||0)%24,i=(parseInt(w.minuteElement.value,10)||0)%60,a=void 0!==w.secondElement?(parseInt(w.secondElement.value,10)||0)%60:0;void 0!==w.amPM&&(e=n,t=w.amPM.textContent,n=e%12+12*r(t===w.l10n.amPM[1]));var o=void 0!==w.config.minTime||w.config.minDate&&w.minDateHasTime&&w.latestSelectedDateObj&&0===x(w.latestSelectedDateObj,w.config.minDate,!0),s=void 0!==w.config.maxTime||w.config.maxDate&&w.maxDateHasTime&&w.latestSelectedDateObj&&0===x(w.latestSelectedDateObj,w.config.maxDate,!0);if(void 0!==w.config.maxTime&&void 0!==w.config.minTime&&w.config.minTime>w.config.maxTime){var l=D(w.config.minTime.getHours(),w.config.minTime.getMinutes(),w.config.minTime.getSeconds()),d=D(w.config.maxTime.getHours(),w.config.maxTime.getMinutes(),w.config.maxTime.getSeconds()),c=D(n,i,a);if(c>d&&c<l){var u=function(e){var t=Math.floor(e/3600),n=(e-3600*t)/60;return[t,n,e-3600*t-60*n]}(l);n=u[0],i=u[1],a=u[2]}}else{if(s){var h=void 0!==w.config.maxTime?w.config.maxTime:w.config.maxDate;(n=Math.min(n,h.getHours()))===h.getHours()&&(i=Math.min(i,h.getMinutes())),i===h.getMinutes()&&(a=Math.min(a,h.getSeconds()))}if(o){var f=void 0!==w.config.minTime?w.config.minTime:w.config.minDate;(n=Math.max(n,f.getHours()))===f.getHours()&&i<f.getMinutes()&&(i=f.getMinutes()),i===f.getMinutes()&&(a=Math.max(a,f.getSeconds()))}}O(n,i,a)}}function F(e){var t=e||w.latestSelectedDateObj;t&&t instanceof Date&&O(t.getHours(),t.getMinutes(),t.getSeconds())}function O(e,t,n){void 0!==w.latestSelectedDateObj&&w.latestSelectedDateObj.setHours(e%24,t,n||0,0),w.hourElement&&w.minuteElement&&!w.isMobile&&(w.hourElement.value=o(w.config.time_24hr?e:(12+e)%12+12*r(e%12==0)),w.minuteElement.value=o(t),void 0!==w.amPM&&(w.amPM.textContent=w.l10n.amPM[r(e>=12)]),void 0!==w.secondElement&&(w.secondElement.value=o(n)))}function A(e){var t=m(e),n=parseInt(t.value)+(e.delta||0);(n/1e3>1||"Enter"===e.key&&!/[^\d]/.test(n.toString()))&&X(n)}function P(e,t,n,i){return t instanceof Array?t.forEach((function(t){return P(e,t,n,i)})):e instanceof Array?e.forEach((function(e){return P(e,t,n,i)})):(e.addEventListener(t,n,i),void w._handlers.push({remove:function(){return e.removeEventListener(t,n,i)}}))}function L(){ve("onChange")}function Y(e,t){var n=void 0!==e?w.parseDate(e):w.latestSelectedDateObj||(w.config.minDate&&w.config.minDate>w.now?w.config.minDate:w.config.maxDate&&w.config.maxDate<w.now?w.config.maxDate:w.now),i=w.currentYear,a=w.currentMonth;try{void 0!==n&&(w.currentYear=n.getFullYear(),w.currentMonth=n.getMonth())}catch(e){e.message="Invalid date supplied: "+n,w.config.errorHandler(e)}t&&w.currentYear!==i&&(ve("onYearChange"),G()),!t||w.currentYear===i&&w.currentMonth===a||ve("onMonthChange"),w.redraw()}function N(e){var t=m(e);~t.className.indexOf("arrow")&&R(e,t.classList.contains("arrowUp")?1:-1)}function R(e,t,n){var i=e&&m(e),a=n||i&&i.parentNode&&i.parentNode.firstChild,o=ye("increment");o.delta=t,a&&a.dispatchEvent(o)}function H(e,t,n,i){var a=ee(t,!0),o=c("span",e,t.getDate().toString());return o.dateObj=t,o.$i=i,o.setAttribute("aria-label",w.formatDate(t,w.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===x(t,w.now)&&(w.todayDateElem=o,o.classList.add("today"),o.setAttribute("aria-current","date")),a?(o.tabIndex=-1,we(t)&&(o.classList.add("selected"),w.selectedDateElem=o,"range"===w.config.mode&&(d(o,"startRange",w.selectedDates[0]&&0===x(t,w.selectedDates[0],!0)),d(o,"endRange",w.selectedDates[1]&&0===x(t,w.selectedDates[1],!0)),"nextMonthDay"===e&&o.classList.add("inRange")))):o.classList.add("flatpickr-disabled"),"range"===w.config.mode&&function(e){return!("range"!==w.config.mode||w.selectedDates.length<2)&&x(e,w.selectedDates[0])>=0&&x(e,w.selectedDates[1])<=0}(t)&&!we(t)&&o.classList.add("inRange"),w.weekNumbers&&1===w.config.showMonths&&"prevMonthDay"!==e&&n%7==1&&w.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+w.config.getWeek(t)+"</span>"),ve("onDayCreate",o),o}function $(e){e.focus(),"range"===w.config.mode&&ae(e)}function U(e){for(var t=e>0?0:w.config.showMonths-1,n=e>0?w.config.showMonths:-1,i=t;i!=n;i+=e)for(var a=w.daysContainer.children[i],o=e>0?0:a.children.length-1,r=e>0?a.children.length:-1,s=o;s!=r;s+=e){var l=a.children[s];if(-1===l.className.indexOf("hidden")&&ee(l.dateObj))return l}}function j(e,t){var n=C(),i=te(n||document.body),a=void 0!==e?e:i?n:void 0!==w.selectedDateElem&&te(w.selectedDateElem)?w.selectedDateElem:void 0!==w.todayDateElem&&te(w.todayDateElem)?w.todayDateElem:U(t>0?1:-1);void 0===a?w._input.focus():i?function(e,t){for(var n=-1===e.className.indexOf("Month")?e.dateObj.getMonth():w.currentMonth,i=t>0?w.config.showMonths:-1,a=t>0?1:-1,o=n-w.currentMonth;o!=i;o+=a)for(var r=w.daysContainer.children[o],s=n-w.currentMonth===o?e.$i+t:t<0?r.children.length-1:0,l=r.children.length,d=s;d>=0&&d<l&&d!=(t>0?l:-1);d+=a){var c=r.children[d];if(-1===c.className.indexOf("hidden")&&ee(c.dateObj)&&Math.abs(e.$i-d)>=Math.abs(t))return $(c)}w.changeMonth(a),j(U(a),0)}(a,t):$(a)}function W(e,t){for(var n=(new Date(e,t,1).getDay()-w.l10n.firstDayOfWeek+7)%7,i=w.utils.getDaysInMonth((t-1+12)%12,e),a=w.utils.getDaysInMonth(t,e),o=window.document.createDocumentFragment(),r=w.config.showMonths>1,s=r?"prevMonthDay hidden":"prevMonthDay",l=r?"nextMonthDay hidden":"nextMonthDay",d=i+1-n,u=0;d<=i;d++,u++)o.appendChild(H("flatpickr-day "+s,new Date(e,t-1,d),d,u));for(d=1;d<=a;d++,u++)o.appendChild(H("flatpickr-day",new Date(e,t,d),d,u));for(var h=a+1;h<=42-n&&(1===w.config.showMonths||u%7!=0);h++,u++)o.appendChild(H("flatpickr-day "+l,new Date(e,t+1,h%a),h,u));var f=c("div","dayContainer");return f.appendChild(o),f}function z(){if(void 0!==w.daysContainer){u(w.daysContainer),w.weekNumbers&&u(w.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<w.config.showMonths;t++){var n=new Date(w.currentYear,w.currentMonth,1);n.setMonth(w.currentMonth+t),e.appendChild(W(n.getFullYear(),n.getMonth()))}w.daysContainer.appendChild(e),w.days=w.daysContainer.firstChild,"range"===w.config.mode&&1===w.selectedDates.length&&ae()}}function G(){if(!(w.config.showMonths>1||"dropdown"!==w.config.monthSelectorType)){var e=function(e){return!(void 0!==w.config.minDate&&w.currentYear===w.config.minDate.getFullYear()&&e<w.config.minDate.getMonth()||void 0!==w.config.maxDate&&w.currentYear===w.config.maxDate.getFullYear()&&e>w.config.maxDate.getMonth())};w.monthsDropdownContainer.tabIndex=-1,w.monthsDropdownContainer.innerHTML="";for(var t=0;t<12;t++)if(e(t)){var n=c("option","flatpickr-monthDropdown-month");n.value=new Date(w.currentYear,t).getMonth().toString(),n.textContent=g(t,w.config.shorthandCurrentMonth,w.l10n),n.tabIndex=-1,w.currentMonth===t&&(n.selected=!0),w.monthsDropdownContainer.appendChild(n)}}}function V(){var e,t=c("div","flatpickr-month"),n=window.document.createDocumentFragment();w.config.showMonths>1||"static"===w.config.monthSelectorType?e=c("span","cur-month"):(w.monthsDropdownContainer=c("select","flatpickr-monthDropdown-months"),w.monthsDropdownContainer.setAttribute("aria-label",w.l10n.monthAriaLabel),P(w.monthsDropdownContainer,"change",(function(e){var t=m(e),n=parseInt(t.value,10);w.changeMonth(n-w.currentMonth),ve("onMonthChange")})),G(),e=w.monthsDropdownContainer);var i=f("cur-year",{tabindex:"-1"}),a=i.getElementsByTagName("input")[0];a.setAttribute("aria-label",w.l10n.yearAriaLabel),w.config.minDate&&a.setAttribute("min",w.config.minDate.getFullYear().toString()),w.config.maxDate&&(a.setAttribute("max",w.config.maxDate.getFullYear().toString()),a.disabled=!!w.config.minDate&&w.config.minDate.getFullYear()===w.config.maxDate.getFullYear());var o=c("div","flatpickr-current-month");return o.appendChild(e),o.appendChild(i),n.appendChild(o),t.appendChild(n),{container:t,yearElement:a,monthElement:e}}function Z(){u(w.monthNav),w.monthNav.appendChild(w.prevMonthNav),w.config.showMonths&&(w.yearElements=[],w.monthElements=[]);for(var e=w.config.showMonths;e--;){var t=V();w.yearElements.push(t.yearElement),w.monthElements.push(t.monthElement),w.monthNav.appendChild(t.container)}w.monthNav.appendChild(w.nextMonthNav)}function B(){w.weekdayContainer?u(w.weekdayContainer):w.weekdayContainer=c("div","flatpickr-weekdays");for(var e=w.config.showMonths;e--;){var t=c("div","flatpickr-weekdaycontainer");w.weekdayContainer.appendChild(t)}return q(),w.weekdayContainer}function q(){if(w.weekdayContainer){var e=w.l10n.firstDayOfWeek,n=t(w.l10n.weekdays.shorthand);e>0&&e<n.length&&(n=t(n.splice(e,n.length),n.splice(0,e)));for(var i=w.config.showMonths;i--;)w.weekdayContainer.children[i].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+n.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function K(e,t){void 0===t&&(t=!0);var n=t?e:e-w.currentMonth;n<0&&!0===w._hidePrevMonthArrow||n>0&&!0===w._hideNextMonthArrow||(w.currentMonth+=n,(w.currentMonth<0||w.currentMonth>11)&&(w.currentYear+=w.currentMonth>11?1:-1,w.currentMonth=(w.currentMonth+12)%12,ve("onYearChange"),G()),z(),ve("onMonthChange"),_e())}function J(e){return w.calendarContainer.contains(e)}function Q(e){if(w.isOpen&&!w.config.inline){var t=m(e),n=J(t),i=!(t===w.input||t===w.altInput||w.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(w.input)||~e.path.indexOf(w.altInput))||n||J(e.relatedTarget)),a=!w.config.ignoredFocusElements.some((function(e){return e.contains(t)}));i&&a&&(w.config.allowInput&&w.setDate(w._input.value,!1,w.config.altInput?w.config.altFormat:w.config.dateFormat),void 0!==w.timeContainer&&void 0!==w.minuteElement&&void 0!==w.hourElement&&""!==w.input.value&&void 0!==w.input.value&&I(),w.close(),w.config&&"range"===w.config.mode&&1===w.selectedDates.length&&w.clear(!1))}}function X(e){if(!(!e||w.config.minDate&&e<w.config.minDate.getFullYear()||w.config.maxDate&&e>w.config.maxDate.getFullYear())){var t=e,n=w.currentYear!==t;w.currentYear=t||w.currentYear,w.config.maxDate&&w.currentYear===w.config.maxDate.getFullYear()?w.currentMonth=Math.min(w.config.maxDate.getMonth(),w.currentMonth):w.config.minDate&&w.currentYear===w.config.minDate.getFullYear()&&(w.currentMonth=Math.max(w.config.minDate.getMonth(),w.currentMonth)),n&&(w.redraw(),ve("onYearChange"),G())}}function ee(e,t){var n;void 0===t&&(t=!0);var i=w.parseDate(e,void 0,t);if(w.config.minDate&&i&&x(i,w.config.minDate,void 0!==t?t:!w.minDateHasTime)<0||w.config.maxDate&&i&&x(i,w.config.maxDate,void 0!==t?t:!w.maxDateHasTime)>0)return!1;if(!w.config.enable&&0===w.config.disable.length)return!0;if(void 0===i)return!1;for(var a=!!w.config.enable,o=null!==(n=w.config.enable)&&void 0!==n?n:w.config.disable,r=0,s=void 0;r<o.length;r++){if("function"==typeof(s=o[r])&&s(i))return a;if(s instanceof Date&&void 0!==i&&s.getTime()===i.getTime())return a;if("string"==typeof s){var l=w.parseDate(s,void 0,!0);return l&&l.getTime()===i.getTime()?a:!a}if("object"==typeof s&&void 0!==i&&s.from&&s.to&&i.getTime()>=s.from.getTime()&&i.getTime()<=s.to.getTime())return a}return!a}function te(e){return void 0!==w.daysContainer&&-1===e.className.indexOf("hidden")&&-1===e.className.indexOf("flatpickr-disabled")&&w.daysContainer.contains(e)}function ne(e){e.target!==w._input||!(w.selectedDates.length>0||w._input.value.length>0)||e.relatedTarget&&J(e.relatedTarget)||w.setDate(w._input.value,!0,e.target===w.altInput?w.config.altFormat:w.config.dateFormat)}function ie(e){var t=m(e),n=w.config.wrap?p.contains(t):t===w._input,i=w.config.allowInput,a=w.isOpen&&(!i||!n),o=w.config.inline&&n&&!i;if(13===e.keyCode&&n){if(i)return w.setDate(w._input.value,!0,t===w.altInput?w.config.altFormat:w.config.dateFormat),w.close(),t.blur();w.open()}else if(J(t)||a||o){var r=!!w.timeContainer&&w.timeContainer.contains(t);switch(e.keyCode){case 13:r?(e.preventDefault(),I(),ue()):he(e);break;case 27:e.preventDefault(),ue();break;case 8:case 46:n&&!w.config.allowInput&&(e.preventDefault(),w.clear());break;case 37:case 39:if(r||n)w.hourElement&&w.hourElement.focus();else{e.preventDefault();var s=C();if(void 0!==w.daysContainer&&(!1===i||s&&te(s))){var l=39===e.keyCode?1:-1;e.ctrlKey?(e.stopPropagation(),K(l),j(U(1),0)):j(void 0,l)}}break;case 38:case 40:e.preventDefault();var d=40===e.keyCode?1:-1;w.daysContainer&&void 0!==t.$i||t===w.input||t===w.altInput?e.ctrlKey?(e.stopPropagation(),X(w.currentYear-d),j(U(1),0)):r||j(void 0,7*d):t===w.currentYearElement?X(w.currentYear-d):w.config.enableTime&&(!r&&w.hourElement&&w.hourElement.focus(),I(e),w._debouncedChange());break;case 9:if(r){var c=[w.hourElement,w.minuteElement,w.secondElement,w.amPM].concat(w.pluginElements).filter((function(e){return e})),u=c.indexOf(t);if(-1!==u){var h=c[u+(e.shiftKey?-1:1)];e.preventDefault(),(h||w._input).focus()}}else!w.config.noCalendar&&w.daysContainer&&w.daysContainer.contains(t)&&e.shiftKey&&(e.preventDefault(),w._input.focus())}}if(void 0!==w.amPM&&t===w.amPM)switch(e.key){case w.l10n.amPM[0].charAt(0):case w.l10n.amPM[0].charAt(0).toLowerCase():w.amPM.textContent=w.l10n.amPM[0],E(),xe();break;case w.l10n.amPM[1].charAt(0):case w.l10n.amPM[1].charAt(0).toLowerCase():w.amPM.textContent=w.l10n.amPM[1],E(),xe()}(n||J(t))&&ve("onKeyDown",e)}function ae(e,t){if(void 0===t&&(t="flatpickr-day"),1===w.selectedDates.length&&(!e||e.classList.contains(t)&&!e.classList.contains("flatpickr-disabled"))){for(var n=e?e.dateObj.getTime():w.days.firstElementChild.dateObj.getTime(),i=w.parseDate(w.selectedDates[0],void 0,!0).getTime(),a=Math.min(n,w.selectedDates[0].getTime()),o=Math.max(n,w.selectedDates[0].getTime()),r=!1,s=0,l=0,d=a;d<o;d+=864e5)ee(new Date(d),!0)||(r=r||d>a&&d<o,d<i&&(!s||d>s)?s=d:d>i&&(!l||d<l)&&(l=d));Array.from(w.rContainer.querySelectorAll("*:nth-child(-n+"+w.config.showMonths+") > ."+t)).forEach((function(t){var a,o,d,c=t.dateObj.getTime(),u=s>0&&c<s||l>0&&c>l;if(u)return t.classList.add("notAllowed"),void["inRange","startRange","endRange"].forEach((function(e){t.classList.remove(e)}));r&&!u||(["startRange","inRange","endRange","notAllowed"].forEach((function(e){t.classList.remove(e)})),void 0!==e&&(e.classList.add(n<=w.selectedDates[0].getTime()?"startRange":"endRange"),i<n&&c===i?t.classList.add("startRange"):i>n&&c===i&&t.classList.add("endRange"),c>=s&&(0===l||c<=l)&&(o=i,d=n,(a=c)>Math.min(o,d)&&a<Math.max(o,d))&&t.classList.add("inRange")))}))}}function oe(){!w.isOpen||w.config.static||w.config.inline||de()}function re(e){return function(t){var n=w.config["_"+e+"Date"]=w.parseDate(t,w.config.dateFormat),i=w.config["_"+("min"===e?"max":"min")+"Date"];void 0!==n&&(w["min"===e?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0),w.selectedDates&&(w.selectedDates=w.selectedDates.filter((function(e){return ee(e)})),w.selectedDates.length||"min"!==e||F(n),xe()),w.daysContainer&&(ce(),void 0!==n?w.currentYearElement[e]=n.getFullYear().toString():w.currentYearElement.removeAttribute(e),w.currentYearElement.disabled=!!i&&void 0!==n&&i.getFullYear()===n.getFullYear())}}function se(){return w.config.wrap?p.querySelector("[data-input]"):p}function le(){"object"!=typeof w.config.locale&&void 0===S.l10ns[w.config.locale]&&w.config.errorHandler(new Error("flatpickr: invalid locale "+w.config.locale)),w.l10n=e(e({},S.l10ns.default),"object"==typeof w.config.locale?w.config.locale:"default"!==w.config.locale?S.l10ns[w.config.locale]:void 0),y.D="("+w.l10n.weekdays.shorthand.join("|")+")",y.l="("+w.l10n.weekdays.longhand.join("|")+")",y.M="("+w.l10n.months.shorthand.join("|")+")",y.F="("+w.l10n.months.longhand.join("|")+")",y.K="("+w.l10n.amPM[0]+"|"+w.l10n.amPM[1]+"|"+w.l10n.amPM[0].toLowerCase()+"|"+w.l10n.amPM[1].toLowerCase()+")",void 0===e(e({},v),JSON.parse(JSON.stringify(p.dataset||{}))).time_24hr&&void 0===S.defaultConfig.time_24hr&&(w.config.time_24hr=w.l10n.time_24hr),w.formatDate=_(w),w.parseDate=b({config:w.config,l10n:w.l10n})}function de(e){if("function"!=typeof w.config.position){if(void 0!==w.calendarContainer){ve("onPreCalendarPosition");var t=e||w._positionElement,n=Array.prototype.reduce.call(w.calendarContainer.children,(function(e,t){return e+t.offsetHeight}),0),i=w.calendarContainer.offsetWidth,a=w.config.position.split(" "),o=a[0],r=a.length>1?a[1]:null,s=t.getBoundingClientRect(),l=window.innerHeight-s.bottom,c="above"===o||"below"!==o&&l<n&&s.top>n,u=window.pageYOffset+s.top+(c?-n-2:t.offsetHeight+2);if(d(w.calendarContainer,"arrowTop",!c),d(w.calendarContainer,"arrowBottom",c),!w.config.inline){var h=window.pageXOffset+s.left,f=!1,m=!1;"center"===r?(h-=(i-s.width)/2,f=!0):"right"===r&&(h-=i-s.width,m=!0),d(w.calendarContainer,"arrowLeft",!f&&!m),d(w.calendarContainer,"arrowCenter",f),d(w.calendarContainer,"arrowRight",m);var p=window.document.body.offsetWidth-(window.pageXOffset+s.right),g=h+i>window.document.body.offsetWidth,v=p+i>window.document.body.offsetWidth;if(d(w.calendarContainer,"rightMost",g),!w.config.static)if(w.calendarContainer.style.top=u+"px",g)if(v){var y=function(){for(var e=null,t=0;t<document.styleSheets.length;t++){var n=document.styleSheets[t];if(n.cssRules){try{n.cssRules}catch(e){continue}e=n;break}}return null!=e?e:(i=document.createElement("style"),document.head.appendChild(i),i.sheet);var i}();if(void 0===y)return;var _=window.document.body.offsetWidth,b=Math.max(0,_/2-i/2),x=y.cssRules.length,D="{left:"+s.left+"px;right:auto;}";d(w.calendarContainer,"rightMost",!1),d(w.calendarContainer,"centerMost",!0),y.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+D,x),w.calendarContainer.style.left=b+"px",w.calendarContainer.style.right="auto"}else w.calendarContainer.style.left="auto",w.calendarContainer.style.right=p+"px";else w.calendarContainer.style.left=h+"px",w.calendarContainer.style.right="auto"}}}else w.config.position(w,e)}function ce(){w.config.noCalendar||w.isMobile||(G(),_e(),z())}function ue(){w._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(w.close,0):w.close()}function he(e){e.preventDefault(),e.stopPropagation();var t=h(m(e),(function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")}));if(void 0!==t){var n=t,i=w.latestSelectedDateObj=new Date(n.dateObj.getTime()),a=(i.getMonth()<w.currentMonth||i.getMonth()>w.currentMonth+w.config.showMonths-1)&&"range"!==w.config.mode;if(w.selectedDateElem=n,"single"===w.config.mode)w.selectedDates=[i];else if("multiple"===w.config.mode){var o=we(i);o?w.selectedDates.splice(parseInt(o),1):w.selectedDates.push(i)}else"range"===w.config.mode&&(2===w.selectedDates.length&&w.clear(!1,!1),w.latestSelectedDateObj=i,w.selectedDates.push(i),0!==x(i,w.selectedDates[0],!0)&&w.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()})));if(E(),a){var r=w.currentYear!==i.getFullYear();w.currentYear=i.getFullYear(),w.currentMonth=i.getMonth(),r&&(ve("onYearChange"),G()),ve("onMonthChange")}if(_e(),z(),xe(),a||"range"===w.config.mode||1!==w.config.showMonths?void 0!==w.selectedDateElem&&void 0===w.hourElement&&w.selectedDateElem&&w.selectedDateElem.focus():$(n),void 0!==w.hourElement&&void 0!==w.hourElement&&w.hourElement.focus(),w.config.closeOnSelect){var s="single"===w.config.mode&&!w.config.enableTime,l="range"===w.config.mode&&2===w.selectedDates.length&&!w.config.enableTime;(s||l)&&ue()}L()}}w.parseDate=b({config:w.config,l10n:w.l10n}),w._handlers=[],w.pluginElements=[],w.loadedPlugins=[],w._bind=P,w._setHoursFromDate=F,w._positionCalendar=de,w.changeMonth=K,w.changeYear=X,w.clear=function(e,t){if(void 0===e&&(e=!0),void 0===t&&(t=!0),w.input.value="",void 0!==w.altInput&&(w.altInput.value=""),void 0!==w.mobileInput&&(w.mobileInput.value=""),w.selectedDates=[],w.latestSelectedDateObj=void 0,!0===t&&(w.currentYear=w._initialDate.getFullYear(),w.currentMonth=w._initialDate.getMonth()),!0===w.config.enableTime){var n=M(w.config);O(n.hours,n.minutes,n.seconds)}w.redraw(),e&&ve("onChange")},w.close=function(){w.isOpen=!1,w.isMobile||(void 0!==w.calendarContainer&&w.calendarContainer.classList.remove("open"),void 0!==w._input&&w._input.classList.remove("active")),ve("onClose")},w.onMouseOver=ae,w._createElement=c,w.createDay=H,w.destroy=function(){void 0!==w.config&&ve("onDestroy");for(var e=w._handlers.length;e--;)w._handlers[e].remove();if(w._handlers=[],w.mobileInput)w.mobileInput.parentNode&&w.mobileInput.parentNode.removeChild(w.mobileInput),w.mobileInput=void 0;else if(w.calendarContainer&&w.calendarContainer.parentNode)if(w.config.static&&w.calendarContainer.parentNode){var t=w.calendarContainer.parentNode;if(t.lastChild&&t.removeChild(t.lastChild),t.parentNode){for(;t.firstChild;)t.parentNode.insertBefore(t.firstChild,t);t.parentNode.removeChild(t)}}else w.calendarContainer.parentNode.removeChild(w.calendarContainer);w.altInput&&(w.input.type="text",w.altInput.parentNode&&w.altInput.parentNode.removeChild(w.altInput),delete w.altInput),w.input&&(w.input.type=w.input._type,w.input.classList.remove("flatpickr-input"),w.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(e){try{delete w[e]}catch(e){}}))},w.isEnabled=ee,w.jumpToDate=Y,w.updateValue=xe,w.open=function(e,t){if(void 0===t&&(t=w._positionElement),!0===w.isMobile){if(e){e.preventDefault();var n=m(e);n&&n.blur()}return void 0!==w.mobileInput&&(w.mobileInput.focus(),w.mobileInput.click()),void ve("onOpen")}if(!w._input.disabled&&!w.config.inline){var i=w.isOpen;w.isOpen=!0,i||(w.calendarContainer.classList.add("open"),w._input.classList.add("active"),ve("onOpen"),de(t)),!0===w.config.enableTime&&!0===w.config.noCalendar&&(!1!==w.config.allowInput||void 0!==e&&w.timeContainer.contains(e.relatedTarget)||setTimeout((function(){return w.hourElement.select()}),50))}},w.redraw=ce,w.set=function(e,t){if(null!==e&&"object"==typeof e)for(var i in Object.assign(w.config,e),e)void 0!==fe[i]&&fe[i].forEach((function(e){return e()}));else w.config[e]=t,void 0!==fe[e]?fe[e].forEach((function(e){return e()})):n.indexOf(e)>-1&&(w.config[e]=l(t));w.redraw(),xe(!0)},w.setDate=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=w.config.dateFormat),0!==e&&!e||e instanceof Array&&0===e.length)return w.clear(t);me(e,n),w.latestSelectedDateObj=w.selectedDates[w.selectedDates.length-1],w.redraw(),Y(void 0,t),F(),0===w.selectedDates.length&&w.clear(!1),xe(t),t&&ve("onChange")},w.toggle=function(e){if(!0===w.isOpen)return w.close();w.open(e)};var fe={locale:[le,q],showMonths:[Z,T,B],minDate:[Y],maxDate:[Y],positionElement:[ge],clickOpens:[function(){!0===w.config.clickOpens?(P(w._input,"focus",w.open),P(w._input,"click",w.open)):(w._input.removeEventListener("focus",w.open),w._input.removeEventListener("click",w.open))}]};function me(e,t){var n=[];if(e instanceof Array)n=e.map((function(e){return w.parseDate(e,t)}));else if(e instanceof Date||"number"==typeof e)n=[w.parseDate(e,t)];else if("string"==typeof e)switch(w.config.mode){case"single":case"time":n=[w.parseDate(e,t)];break;case"multiple":n=e.split(w.config.conjunction).map((function(e){return w.parseDate(e,t)}));break;case"range":n=e.split(w.l10n.rangeSeparator).map((function(e){return w.parseDate(e,t)}))}else w.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));w.selectedDates=w.config.allowInvalidPreload?n:n.filter((function(e){return e instanceof Date&&ee(e,!1)})),"range"===w.config.mode&&w.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()}))}function pe(e){return e.slice().map((function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?w.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:w.parseDate(e.from,void 0),to:w.parseDate(e.to,void 0)}:e})).filter((function(e){return e}))}function ge(){w._positionElement=w.config.positionElement||w._input}function ve(e,t){if(void 0!==w.config){var n=w.config[e];if(void 0!==n&&n.length>0)for(var i=0;n[i]&&i<n.length;i++)n[i](w.selectedDates,w.input.value,w,t);"onChange"===e&&(w.input.dispatchEvent(ye("change")),w.input.dispatchEvent(ye("input")))}}function ye(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function we(e){for(var t=0;t<w.selectedDates.length;t++){var n=w.selectedDates[t];if(n instanceof Date&&0===x(n,e))return""+t}return!1}function _e(){w.config.noCalendar||w.isMobile||!w.monthNav||(w.yearElements.forEach((function(e,t){var n=new Date(w.currentYear,w.currentMonth,1);n.setMonth(w.currentMonth+t),w.config.showMonths>1||"static"===w.config.monthSelectorType?w.monthElements[t].textContent=g(n.getMonth(),w.config.shorthandCurrentMonth,w.l10n)+" ":w.monthsDropdownContainer.value=n.getMonth().toString(),e.value=n.getFullYear().toString()})),w._hidePrevMonthArrow=void 0!==w.config.minDate&&(w.currentYear===w.config.minDate.getFullYear()?w.currentMonth<=w.config.minDate.getMonth():w.currentYear<w.config.minDate.getFullYear()),w._hideNextMonthArrow=void 0!==w.config.maxDate&&(w.currentYear===w.config.maxDate.getFullYear()?w.currentMonth+1>w.config.maxDate.getMonth():w.currentYear>w.config.maxDate.getFullYear()))}function be(e){return w.selectedDates.map((function(t){return w.formatDate(t,e)})).filter((function(e,t,n){return"range"!==w.config.mode||w.config.enableTime||n.indexOf(e)===t})).join("range"!==w.config.mode?w.config.conjunction:w.l10n.rangeSeparator)}function xe(e){void 0===e&&(e=!0),void 0!==w.mobileInput&&w.mobileFormatStr&&(w.mobileInput.value=void 0!==w.latestSelectedDateObj?w.formatDate(w.latestSelectedDateObj,w.mobileFormatStr):""),w.input.value=be(w.config.dateFormat),void 0!==w.altInput&&(w.altInput.value=be(w.config.altFormat)),!1!==e&&ve("onValueUpdate")}function De(e){var t=m(e),n=w.prevMonthNav.contains(t),i=w.nextMonthNav.contains(t);n||i?K(n?-1:1):w.yearElements.indexOf(t)>=0?t.select():t.classList.contains("arrowUp")?w.changeYear(w.currentYear+1):t.classList.contains("arrowDown")&&w.changeYear(w.currentYear-1)}return function(){w.element=w.input=p,w.isOpen=!1,function(){var t=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],a=e(e({},JSON.parse(JSON.stringify(p.dataset||{}))),v),o={};w.config.parseDate=a.parseDate,w.config.formatDate=a.formatDate,Object.defineProperty(w.config,"enable",{get:function(){return w.config._enable},set:function(e){w.config._enable=pe(e)}}),Object.defineProperty(w.config,"disable",{get:function(){return w.config._disable},set:function(e){w.config._disable=pe(e)}});var r="time"===a.mode;if(!a.dateFormat&&(a.enableTime||r)){var s=S.defaultConfig.dateFormat||i.dateFormat;o.dateFormat=a.noCalendar||r?"H:i"+(a.enableSeconds?":S":""):s+" H:i"+(a.enableSeconds?":S":"")}if(a.altInput&&(a.enableTime||r)&&!a.altFormat){var d=S.defaultConfig.altFormat||i.altFormat;o.altFormat=a.noCalendar||r?"h:i"+(a.enableSeconds?":S K":" K"):d+" h:i"+(a.enableSeconds?":S":"")+" K"}Object.defineProperty(w.config,"minDate",{get:function(){return w.config._minDate},set:re("min")}),Object.defineProperty(w.config,"maxDate",{get:function(){return w.config._maxDate},set:re("max")});var c=function(e){return function(t){w.config["min"===e?"_minTime":"_maxTime"]=w.parseDate(t,"H:i:S")}};Object.defineProperty(w.config,"minTime",{get:function(){return w.config._minTime},set:c("min")}),Object.defineProperty(w.config,"maxTime",{get:function(){return w.config._maxTime},set:c("max")}),"time"===a.mode&&(w.config.noCalendar=!0,w.config.enableTime=!0),Object.assign(w.config,o,a);for(var u=0;u<t.length;u++)w.config[t[u]]=!0===w.config[t[u]]||"true"===w.config[t[u]];for(n.filter((function(e){return void 0!==w.config[e]})).forEach((function(e){w.config[e]=l(w.config[e]||[]).map(k)})),w.isMobile=!w.config.disableMobile&&!w.config.inline&&"single"===w.config.mode&&!w.config.disable.length&&!w.config.enable&&!w.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),u=0;u<w.config.plugins.length;u++){var h=w.config.plugins[u](w)||{};for(var f in h)n.indexOf(f)>-1?w.config[f]=l(h[f]).map(k).concat(w.config[f]):void 0===a[f]&&(w.config[f]=h[f])}a.altInputClass||(w.config.altInputClass=se().className+" "+w.config.altInputClass),ve("onParseConfig")}(),le(),w.input=se(),w.input?(w.input._type=w.input.type,w.input.type="text",w.input.classList.add("flatpickr-input"),w._input=w.input,w.config.altInput&&(w.altInput=c(w.input.nodeName,w.config.altInputClass),w._input=w.altInput,w.altInput.placeholder=w.input.placeholder,w.altInput.disabled=w.input.disabled,w.altInput.required=w.input.required,w.altInput.tabIndex=w.input.tabIndex,w.altInput.type="text",w.input.setAttribute("type","hidden"),!w.config.static&&w.input.parentNode&&w.input.parentNode.insertBefore(w.altInput,w.input.nextSibling)),w.config.allowInput||w._input.setAttribute("readonly","readonly"),ge()):w.config.errorHandler(new Error("Invalid input element specified")),function(){w.selectedDates=[],w.now=w.parseDate(w.config.now)||new Date;var e=w.config.defaultDate||("INPUT"!==w.input.nodeName&&"TEXTAREA"!==w.input.nodeName||!w.input.placeholder||w.input.value!==w.input.placeholder?w.input.value:null);e&&me(e,w.config.dateFormat),w._initialDate=w.selectedDates.length>0?w.selectedDates[0]:w.config.minDate&&w.config.minDate.getTime()>w.now.getTime()?w.config.minDate:w.config.maxDate&&w.config.maxDate.getTime()<w.now.getTime()?w.config.maxDate:w.now,w.currentYear=w._initialDate.getFullYear(),w.currentMonth=w._initialDate.getMonth(),w.selectedDates.length>0&&(w.latestSelectedDateObj=w.selectedDates[0]),void 0!==w.config.minTime&&(w.config.minTime=w.parseDate(w.config.minTime,"H:i")),void 0!==w.config.maxTime&&(w.config.maxTime=w.parseDate(w.config.maxTime,"H:i")),w.minDateHasTime=!!w.config.minDate&&(w.config.minDate.getHours()>0||w.config.minDate.getMinutes()>0||w.config.minDate.getSeconds()>0),w.maxDateHasTime=!!w.config.maxDate&&(w.config.maxDate.getHours()>0||w.config.maxDate.getMinutes()>0||w.config.maxDate.getSeconds()>0)}(),w.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=w.currentMonth),void 0===t&&(t=w.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:w.l10n.daysInMonth[e]}},w.isMobile||function(){var e=window.document.createDocumentFragment();if(w.calendarContainer=c("div","flatpickr-calendar"),w.calendarContainer.tabIndex=-1,!w.config.noCalendar){if(e.appendChild((w.monthNav=c("div","flatpickr-months"),w.yearElements=[],w.monthElements=[],w.prevMonthNav=c("span","flatpickr-prev-month"),w.prevMonthNav.innerHTML=w.config.prevArrow,w.nextMonthNav=c("span","flatpickr-next-month"),w.nextMonthNav.innerHTML=w.config.nextArrow,Z(),Object.defineProperty(w,"_hidePrevMonthArrow",{get:function(){return w.__hidePrevMonthArrow},set:function(e){w.__hidePrevMonthArrow!==e&&(d(w.prevMonthNav,"flatpickr-disabled",e),w.__hidePrevMonthArrow=e)}}),Object.defineProperty(w,"_hideNextMonthArrow",{get:function(){return w.__hideNextMonthArrow},set:function(e){w.__hideNextMonthArrow!==e&&(d(w.nextMonthNav,"flatpickr-disabled",e),w.__hideNextMonthArrow=e)}}),w.currentYearElement=w.yearElements[0],_e(),w.monthNav)),w.innerContainer=c("div","flatpickr-innerContainer"),w.config.weekNumbers){var t=function(){w.calendarContainer.classList.add("hasWeeks");var e=c("div","flatpickr-weekwrapper");e.appendChild(c("span","flatpickr-weekday",w.l10n.weekAbbreviation));var t=c("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}(),n=t.weekWrapper,i=t.weekNumbers;w.innerContainer.appendChild(n),w.weekNumbers=i,w.weekWrapper=n}w.rContainer=c("div","flatpickr-rContainer"),w.rContainer.appendChild(B()),w.daysContainer||(w.daysContainer=c("div","flatpickr-days"),w.daysContainer.tabIndex=-1),z(),w.rContainer.appendChild(w.daysContainer),w.innerContainer.appendChild(w.rContainer),e.appendChild(w.innerContainer)}w.config.enableTime&&e.appendChild(function(){w.calendarContainer.classList.add("hasTime"),w.config.noCalendar&&w.calendarContainer.classList.add("noCalendar");var e=M(w.config);w.timeContainer=c("div","flatpickr-time"),w.timeContainer.tabIndex=-1;var t=c("span","flatpickr-time-separator",":"),n=f("flatpickr-hour",{"aria-label":w.l10n.hourAriaLabel});w.hourElement=n.getElementsByTagName("input")[0];var i=f("flatpickr-minute",{"aria-label":w.l10n.minuteAriaLabel});if(w.minuteElement=i.getElementsByTagName("input")[0],w.hourElement.tabIndex=w.minuteElement.tabIndex=-1,w.hourElement.value=o(w.latestSelectedDateObj?w.latestSelectedDateObj.getHours():w.config.time_24hr?e.hours:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(e.hours)),w.minuteElement.value=o(w.latestSelectedDateObj?w.latestSelectedDateObj.getMinutes():e.minutes),w.hourElement.setAttribute("step",w.config.hourIncrement.toString()),w.minuteElement.setAttribute("step",w.config.minuteIncrement.toString()),w.hourElement.setAttribute("min",w.config.time_24hr?"0":"1"),w.hourElement.setAttribute("max",w.config.time_24hr?"23":"12"),w.hourElement.setAttribute("maxlength","2"),w.minuteElement.setAttribute("min","0"),w.minuteElement.setAttribute("max","59"),w.minuteElement.setAttribute("maxlength","2"),w.timeContainer.appendChild(n),w.timeContainer.appendChild(t),w.timeContainer.appendChild(i),w.config.time_24hr&&w.timeContainer.classList.add("time24hr"),w.config.enableSeconds){w.timeContainer.classList.add("hasSeconds");var a=f("flatpickr-second");w.secondElement=a.getElementsByTagName("input")[0],w.secondElement.value=o(w.latestSelectedDateObj?w.latestSelectedDateObj.getSeconds():e.seconds),w.secondElement.setAttribute("step",w.minuteElement.getAttribute("step")),w.secondElement.setAttribute("min","0"),w.secondElement.setAttribute("max","59"),w.secondElement.setAttribute("maxlength","2"),w.timeContainer.appendChild(c("span","flatpickr-time-separator",":")),w.timeContainer.appendChild(a)}return w.config.time_24hr||(w.amPM=c("span","flatpickr-am-pm",w.l10n.amPM[r((w.latestSelectedDateObj?w.hourElement.value:w.config.defaultHour)>11)]),w.amPM.title=w.l10n.toggleTitle,w.amPM.tabIndex=-1,w.timeContainer.appendChild(w.amPM)),w.timeContainer}()),d(w.calendarContainer,"rangeMode","range"===w.config.mode),d(w.calendarContainer,"animate",!0===w.config.animate),d(w.calendarContainer,"multiMonth",w.config.showMonths>1),w.calendarContainer.appendChild(e);var a=void 0!==w.config.appendTo&&void 0!==w.config.appendTo.nodeType;if((w.config.inline||w.config.static)&&(w.calendarContainer.classList.add(w.config.inline?"inline":"static"),w.config.inline&&(!a&&w.element.parentNode?w.element.parentNode.insertBefore(w.calendarContainer,w._input.nextSibling):void 0!==w.config.appendTo&&w.config.appendTo.appendChild(w.calendarContainer)),w.config.static)){var s=c("div","flatpickr-wrapper");w.element.parentNode&&w.element.parentNode.insertBefore(s,w.element),s.appendChild(w.element),w.altInput&&s.appendChild(w.altInput),s.appendChild(w.calendarContainer)}w.config.static||w.config.inline||(void 0!==w.config.appendTo?w.config.appendTo:window.document.body).appendChild(w.calendarContainer)}(),function(){if(w.config.wrap&&["open","close","toggle","clear"].forEach((function(e){Array.prototype.forEach.call(w.element.querySelectorAll("[data-"+e+"]"),(function(t){return P(t,"click",w[e])}))})),w.isMobile)!function(){var e=w.config.enableTime?w.config.noCalendar?"time":"datetime-local":"date";w.mobileInput=c("input",w.input.className+" flatpickr-mobile"),w.mobileInput.tabIndex=1,w.mobileInput.type=e,w.mobileInput.disabled=w.input.disabled,w.mobileInput.required=w.input.required,w.mobileInput.placeholder=w.input.placeholder,w.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",w.selectedDates.length>0&&(w.mobileInput.defaultValue=w.mobileInput.value=w.formatDate(w.selectedDates[0],w.mobileFormatStr)),w.config.minDate&&(w.mobileInput.min=w.formatDate(w.config.minDate,"Y-m-d")),w.config.maxDate&&(w.mobileInput.max=w.formatDate(w.config.maxDate,"Y-m-d")),w.input.getAttribute("step")&&(w.mobileInput.step=String(w.input.getAttribute("step"))),w.input.type="hidden",void 0!==w.altInput&&(w.altInput.type="hidden");try{w.input.parentNode&&w.input.parentNode.insertBefore(w.mobileInput,w.input.nextSibling)}catch(e){}P(w.mobileInput,"change",(function(e){w.setDate(m(e).value,!1,w.mobileFormatStr),ve("onChange"),ve("onClose")}))}();else{var e=s(oe,50);if(w._debouncedChange=s(L,300),w.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&P(w.daysContainer,"mouseover",(function(e){"range"===w.config.mode&&ae(m(e))})),P(w._input,"keydown",ie),void 0!==w.calendarContainer&&P(w.calendarContainer,"keydown",ie),w.config.inline||w.config.static||P(window,"resize",e),void 0!==window.ontouchstart?P(window.document,"touchstart",Q):P(window.document,"mousedown",Q),P(window.document,"focus",Q,{capture:!0}),!0===w.config.clickOpens&&(P(w._input,"focus",w.open),P(w._input,"click",w.open)),void 0!==w.daysContainer&&(P(w.monthNav,"click",De),P(w.monthNav,["keyup","increment"],A),P(w.daysContainer,"click",he)),void 0!==w.timeContainer&&void 0!==w.minuteElement&&void 0!==w.hourElement){P(w.timeContainer,["increment"],I),P(w.timeContainer,"blur",I,{capture:!0}),P(w.timeContainer,"click",N),P([w.hourElement,w.minuteElement],["focus","click"],(function(e){return m(e).select()})),void 0!==w.secondElement&&P(w.secondElement,"focus",(function(){return w.secondElement&&w.secondElement.select()})),void 0!==w.amPM&&P(w.amPM,"click",(function(e){I(e)}))}w.config.allowInput&&P(w._input,"blur",ne)}}(),(w.selectedDates.length||w.config.noCalendar)&&(w.config.enableTime&&F(w.config.noCalendar?w.latestSelectedDateObj:void 0),xe(!1)),T();var t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!w.isMobile&&t&&de(),ve("onReady")}(),w}function k(e,t){for(var n=Array.prototype.slice.call(e).filter((function(e){return e instanceof HTMLElement})),i=[],a=0;a<n.length;a++){var o=n[a];try{if(null!==o.getAttribute("data-fp-omit"))continue;void 0!==o._flatpickr&&(o._flatpickr.destroy(),o._flatpickr=void 0),o._flatpickr=C(o,t||{}),i.push(o._flatpickr)}catch(e){console.error(e)}}return 1===i.length?i[0]:i}"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var i=function(t){t&&Object.keys(t).forEach((function(n){return e[n]=t[n]}))},a=0,o=t;a<o.length;a++){var r=o[a];i(r)}return e}),"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return k(this,e)},HTMLElement.prototype.flatpickr=function(e){return k([this],e)});var S=function(e,t){return"string"==typeof e?k(window.document.querySelectorAll(e),t):e instanceof Node?k([e],t):k(e,t)};return S.defaultConfig={},S.l10ns={en:e({},a),default:e({},a)},S.localize=function(t){S.l10ns.default=e(e({},S.l10ns.default),t)},S.setDefaults=function(t){S.defaultConfig=e(e({},S.defaultConfig),t)},S.parseDate=b({}),S.formatDate=_({}),S.compareDates=x,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(e){return k(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=S),S}));const settingHour24={enableTime:!0,noCalendar:!0,dateFormat:"H:i:S",static:!0},settingDate={enableTime:!1,dateFormat:"Y-m-d"};var modalChangePasswordUser=$("#modal-change-of-password"),formChangePasswordUser=$("#form-change-password-user"),messageErrorUserPass=modalChangePasswordUser.find(".error-change-password");$(document).ready((function(){modalChangePasswordUser.find(".button-send-password").click((function(){messageErrorUserPass.text(""),messageErrorUserPass.hide(),UtilModalLoader(modalChangePasswordUser),SendFormUpdateChangePasswordUser.Send()})),$(".button-modal-change-of-password").click((function(e){e.preventDefault(),modalChangePasswordUser.modal("show"),messageErrorUserPass.text(""),messageErrorUserPass.hide(),UtilFormClose(formChangePasswordUser)}))}));let SendFormUpdateChangePasswordUser=new QueryAjax({form:"form-change-password-user",action:"ActionUpdateChangePasswordUser"});function ActionUpdateChangePasswordUser(e,t){e?t.status?(notify(!1,"Usuario Actualizado","La contraseña se actualizo correctamente.",2),UtilFormClose(formChangePasswordUser)):(messageErrorUserPass.html(t.message),messageErrorUserPass.show()):console.log(e),UtilModalLoader(modalChangePasswordUser,!1)}class SimpleImage{static get toolbox(){return{title:"Image",icon:'<svg width="17" height="15" viewBox="0 0 336 276" xmlns="http://www.w3.org/2000/svg"><path d="M291 150V79c0-19-15-34-34-34H79c-19 0-34 15-34 34v42l67-44 81 72 56-29 42 30zm0 52l-43-30-56 30-81-67-66 39v23c0 19 15 34 34 34h178c17 0 31-13 34-29zM79 0h178c44 0 79 35 79 79v118c0 44-35 79-79 79H79c-44 0-79-35-79-79V79C0 35 35 0 79 0z"/></svg>'}}static get pasteConfig(){return{tags:["IMG"],files:{mimeTypes:["image/*"],extensions:["gif","jpg","png"]},patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png)$/i}}}static get sanitize(){return{url:{},caption:{b:!0,a:{href:!0},i:!0}}}constructor({data:e,api:t,config:n}){this.api=t,this.config=n||{},this.data={images:e.images||[],withBorder:void 0!==e.withBorder&&e.withBorder,withBackground:void 0!==e.withBackground&&e.withBackground,stretched:void 0!==e.stretched&&e.stretched},this.wrapper=void 0,this.settings=[{name:"withBorder",icon:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.8 10.592v2.043h2.35v2.138H15.8v2.232h-2.25v-2.232h-2.4v-2.138h2.4v-2.28h2.25v.237h1.15-1.15zM1.9 8.455v-3.42c0-1.154.985-2.09 2.2-2.09h4.2v2.137H4.15v3.373H1.9zm0 2.137h2.25v3.325H8.3v2.138H4.1c-1.215 0-2.2-.936-2.2-2.09v-3.373zm15.05-2.137H14.7V5.082h-4.15V2.945h4.2c1.215 0 2.2.936 2.2 2.09v3.42z"/></svg>'},{name:"stretched",icon:'<svg width="17" height="10" viewBox="0 0 17 10" xmlns="http://www.w3.org/2000/svg"><path d="M13.568 5.925H4.056l1.703 1.703a1.125 1.125 0 0 1-1.59 1.591L.962 6.014A1.069 1.069 0 0 1 .588 4.26L4.38.469a1.069 1.069 0 0 1 1.512 1.511L4.084 3.787h9.606l-1.85-1.85a1.069 1.069 0 1 1 1.512-1.51l3.792 3.791a1.069 1.069 0 0 1-.475 1.788L13.514 9.16a1.125 1.125 0 0 1-1.59-1.591l1.644-1.644z"/></svg>'},{name:"withBackground",icon:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.043 8.265l3.183-3.183h-2.924L4.75 10.636v2.923l4.15-4.15v2.351l-2.158 2.159H8.9v2.137H4.7c-1.215 0-2.2-.936-2.2-2.09v-8.93c0-1.154.985-2.09 2.2-2.09h10.663l.033-.033.034.034c1.178.04 2.12.96 2.12 2.089v3.23H15.3V5.359l-2.906 2.906h-2.35zM7.951 5.082H4.75v3.201l3.201-3.2zm5.099 7.078v3.04h4.15v-3.04h-4.15zm-1.1-2.137h6.35c.635 0 1.15.489 1.15 1.092v5.13c0 .603-.515 1.092-1.15 1.092h-6.35c-.635 0-1.15-.489-1.15-1.092v-5.13c0-.603.515-1.092 1.15-1.092z"/></svg>'}]}render(){this.wrapper=document.createElement("div"),this.wrapper.classList.add("simple-image"),this._addModalFile(),this._addButtonModal(),this.data&&this.data.images&&(this.dataS3=this.data.images,this._createImages(this.dataS3)),this.editorFileS3=new updloadS3(this.ModalFile.find(".div-files-class"),{url:"/admin/files/items",typeFile:1,id:1,reload:!1,limitFiles:10});var e=this;return this.editorFileS3.send.click((function(){e.dataS3=e._setDataImages(e.editorFileS3.data),e._createImages(e.dataS3),e._openModal(!1)})),this.data.images.length||this._openModal(),this.wrapper}_addModalFile(){let e="modal_file_"+Math.floor(1e3*Math.random()+1),t=$($("#template-file-modal").html()).clone();t.attr("class","modal fade modal-table-gear "+e),$(".modals-files").append(t),this.ModalFile=$("."+e)}_openModal(e=!0){e?(this.ModalFile.modal("show"),this.ModalFile.find(".overlay").hide()):(this.ModalFile.modal("hide"),this.ModalFile.find(".overlay").hide())}_addButtonModal(){const e=document.createElement("button");e.type="button",e.innerText="Editar",e.value=this.config.placeholder||"Paste an image URL...",e.addEventListener("click",(e=>{this.editorFileS3.clear(),this.dataS3&&this.editorFileS3.loadData(this.dataS3,1),this.editorFileS3.loading.hide(),this._openModal()})),this.wrapper.appendChild(e)}_createImages(e){this.wrapper.innerHTML="",this._addButtonModal();const t=e.length>6?"general":e.length,n=document.createElement("div");n.className="gallery-"+t;var i=1;e.forEach((e=>{const t=document.createElement("figure");t.className="gallery__item  gallery__item--"+i;const a=document.createElement("img");a.src=e.name_tmp_complete,a.className="gallery__img",t.appendChild(a),n.appendChild(t),i++})),this.wrapper.appendChild(n),this._acceptTuneView()}save(e){return Object.assign(this.data,{images:this.dataS3})}_setDataImages(e){if(!e&&!t.isArray())return!1;e=this._sortImages(e);let t=[];return e.forEach((e=>{t.push({author_id:e.author.id,author_name:e.author.name,description:e.description,ext:e.ext,id:e.id+Math.floor(1e4*Math.random()+1),name:e.name,name_tmp:e.name_tmp,name_tmp_complete:e.name_tmp_complete,order:e.order})})),t}_sortImages(e){return e.sort((function(e,t){return e.order>t.order?1:e.order<t.order?-1:0}))}validate(e){return!0}renderSettings(){const e=document.createElement("div");return this.settings.forEach((t=>{let n=document.createElement("div");n.classList.add(this.api.styles.settingsButton),n.classList.toggle(this.api.styles.settingsButtonActive,this.data[t.name]),n.innerHTML=t.icon,e.appendChild(n),n.addEventListener("click",(()=>{this._toggleTune(t.name),n.classList.toggle(this.api.styles.settingsButtonActive)}))})),e}_toggleTune(e){this.data[e]=!this.data[e],this._acceptTuneView()}_acceptTuneView(){this.settings.forEach((e=>{this.wrapper.classList.toggle(e.name,!!this.data[e.name]),"stretched"===e.name&&this.api.blocks.stretchBlock(this.api.blocks.getCurrentBlockIndex(),!!this.data.stretched)}))}}
